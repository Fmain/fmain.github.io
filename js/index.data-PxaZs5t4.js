var $=(i,t,o)=>new Promise((c,f)=>{var h=d=>{try{b(o.next(d))}catch(g){f(g)}},u=d=>{try{b(o.throw(d))}catch(g){f(g)}},b=d=>d.done?c(d.value):Promise.resolve(d.value).then(h,u);b((o=o.apply(i,t)).next())});import{C as ne,a as re,c as ie,u as se,w as ae,M as le,d as ce,S as ue,r as fe,A as G,e as de,b as V}from"./books.store-BFuBvAOc.js";import{m as B,w as A,u as he,g as Y}from"./with-default-props-kKbqWDQo.js";import{r as m,R as a,f as J}from"./index-7WbT3z16.js";import{b as me,_ as K,d as ve,e as Q,c as D,f as U}from"./tslib.es6-stJkEJF-.js";import{b as ge,g as X,i as pe,c as be}from"./useEffectWithTarget-8LChVJPK.js";import{a as ye}from"./attach-properties-to-component-CxYBDbn1.js";(function(){if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}function i(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(n){return null}}var t=function(e){for(var n=e,r=i(n);r;)n=r.ownerDocument,r=i(n);return n}(window.document),o=[],c=null,f=null;function h(e){this.time=e.time,this.target=e.target,this.rootBounds=C(e.rootBounds),this.boundingClientRect=C(e.boundingClientRect),this.intersectionRect=C(e.intersectionRect||y()),this.isIntersecting=!!e.intersectionRect;var n=this.boundingClientRect,r=n.width*n.height,s=this.intersectionRect,l=s.width*s.height;r?this.intersectionRatio=Number((l/r).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function u(e,n){var r=n||{};if(typeof e!="function")throw new Error("callback must be a function");if(r.root&&r.root.nodeType!=1&&r.root.nodeType!=9)throw new Error("root must be a Document or Element");this._checkForIntersections=d(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map(function(s){return s.value+s.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}u.prototype.THROTTLE_TIMEOUT=100,u.prototype.POLL_INTERVAL=null,u.prototype.USE_MUTATION_OBSERVER=!0,u._setupCrossOriginUpdater=function(){return c||(c=function(e,n){!e||!n?f=y():f=R(e,n),o.forEach(function(r){r._checkForIntersections()})}),c},u._resetCrossOriginUpdater=function(){c=null,f=null},u.prototype.observe=function(e){var n=this._observationTargets.some(function(r){return r.element==e});if(!n){if(!(e&&e.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},u.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(n){return n.element!=e}),this._unmonitorIntersections(e.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},u.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},u.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},u.prototype._initThresholds=function(e){var n=e||[0];return Array.isArray(n)||(n=[n]),n.sort().filter(function(r,s,l){if(typeof r!="number"||isNaN(r)||r<0||r>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return r!==l[s-1]})},u.prototype._parseRootMargin=function(e){var n=e||"0px",r=n.split(/\s+/).map(function(s){var l=/^(-?\d*\.?\d+)(px|%)$/.exec(s);if(!l)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(l[1]),unit:l[2]}});return r[1]=r[1]||r[0],r[2]=r[2]||r[0],r[3]=r[3]||r[1],r},u.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&this._monitoringDocuments.indexOf(e)==-1){var r=this._checkForIntersections,s=null,l=null;this.POLL_INTERVAL?s=n.setInterval(r,this.POLL_INTERVAL):(g(n,"resize",r,!0),g(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(l=new n.MutationObserver(r),l.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push(function(){var _=e.defaultView;_&&(s&&_.clearInterval(s),E(_,"resize",r,!0)),E(e,"scroll",r,!0),l&&l.disconnect()});var w=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=w){var v=i(e);v&&this._monitorIntersections(v.ownerDocument)}}},u.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(n!=-1){var r=this.root&&(this.root.ownerDocument||this.root)||t,s=this._observationTargets.some(function(v){var _=v.element.ownerDocument;if(_==e)return!0;for(;_&&_!=r;){var T=i(_);if(_=T&&T.ownerDocument,_==e)return!0}return!1});if(!s){var l=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),l(),e!=r){var w=i(e);w&&this._unmonitorIntersections(w.ownerDocument)}}}},u.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var n=0;n<e.length;n++)e[n]()},u.prototype._checkForIntersections=function(){if(!(!this.root&&c&&!f)){var e=this._rootIsInDom(),n=e?this._getRootRect():y();this._observationTargets.forEach(function(r){var s=r.element,l=k(s),w=this._rootContainsTarget(s),v=r.entry,_=e&&w&&this._computeTargetAndRootIntersection(s,l,n),T=null;this._rootContainsTarget(s)?(!c||this.root)&&(T=n):T=y();var M=r.entry=new h({time:b(),target:s,boundingClientRect:l,rootBounds:T,intersectionRect:_});v?e&&w?this._hasCrossedThreshold(v,M)&&this._queuedEntries.push(M):v&&v.isIntersecting&&this._queuedEntries.push(M):this._queuedEntries.push(M)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},u.prototype._computeTargetAndRootIntersection=function(e,n,r){if(window.getComputedStyle(e).display!="none"){for(var s=n,l=S(e),w=!1;!w&&l;){var v=null,_=l.nodeType==1?window.getComputedStyle(l):{};if(_.display=="none")return null;if(l==this.root||l.nodeType==9)if(w=!0,l==this.root||l==t)c&&!this.root?!f||f.width==0&&f.height==0?(l=null,v=null,s=null):v=f:v=r;else{var T=S(l),M=T&&k(T),W=T&&this._computeTargetAndRootIntersection(T,M,r);M&&W?(l=T,v=R(M,W)):(l=null,s=null)}else{var Z=l.ownerDocument;l!=Z.body&&l!=Z.documentElement&&_.overflow!="visible"&&(v=k(l))}if(v&&(s=p(v,s)),!s)break;l=l&&S(l)}return s}},u.prototype._getRootRect=function(){var e;if(this.root&&!N(this.root))e=k(this.root);else{var n=N(this.root)?this.root:t,r=n.documentElement,s=n.body;e={top:0,left:0,right:r.clientWidth||s.clientWidth,width:r.clientWidth||s.clientWidth,bottom:r.clientHeight||s.clientHeight,height:r.clientHeight||s.clientHeight}}return this._expandRectByRootMargin(e)},u.prototype._expandRectByRootMargin=function(e){var n=this._rootMarginValues.map(function(s,l){return s.unit=="px"?s.value:s.value*(l%2?e.width:e.height)/100}),r={top:e.top-n[0],right:e.right+n[1],bottom:e.bottom+n[2],left:e.left-n[3]};return r.width=r.right-r.left,r.height=r.bottom-r.top,r},u.prototype._hasCrossedThreshold=function(e,n){var r=e&&e.isIntersecting?e.intersectionRatio||0:-1,s=n.isIntersecting?n.intersectionRatio||0:-1;if(r!==s)for(var l=0;l<this.thresholds.length;l++){var w=this.thresholds[l];if(w==r||w==s||w<r!=w<s)return!0}},u.prototype._rootIsInDom=function(){return!this.root||I(t,this.root)},u.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return I(n,e)&&(!this.root||n==e.ownerDocument)},u.prototype._registerInstance=function(){o.indexOf(this)<0&&o.push(this)},u.prototype._unregisterInstance=function(){var e=o.indexOf(this);e!=-1&&o.splice(e,1)};function b(){return window.performance&&performance.now&&performance.now()}function d(e,n){var r=null;return function(){r||(r=setTimeout(function(){e(),r=null},n))}}function g(e,n,r,s){typeof e.addEventListener=="function"?e.addEventListener(n,r,s):typeof e.attachEvent=="function"&&e.attachEvent("on"+n,r)}function E(e,n,r,s){typeof e.removeEventListener=="function"?e.removeEventListener(n,r,s):typeof e.detachEvent=="function"&&e.detachEvent("on"+n,r)}function p(e,n){var r=Math.max(e.top,n.top),s=Math.min(e.bottom,n.bottom),l=Math.max(e.left,n.left),w=Math.min(e.right,n.right),v=w-l,_=s-r;return v>=0&&_>=0&&{top:r,bottom:s,left:l,right:w,width:v,height:_}||null}function k(e){var n;try{n=e.getBoundingClientRect()}catch(r){}return n?(n.width&&n.height||(n={top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.right-n.left,height:n.bottom-n.top}),n):y()}function y(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function C(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function R(e,n){var r=n.top-e.top,s=n.left-e.left;return{top:r,left:s,height:n.height,width:n.width,bottom:r+n.height,right:s+n.width}}function I(e,n){for(var r=n;r;){if(r==e)return!0;r=S(r)}return!1}function S(e){var n=e.parentNode;return e.nodeType==9&&e!=t?i(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&n.nodeType==11&&n.host?n.host:n)}function N(e){return e&&e.nodeType===9}window.IntersectionObserver=u,window.IntersectionObserverEntry=h})();function we(i,t){var o={},c=o.callback,f=me(o,["callback"]),h=K(m.useState(),2),u=h[0],b=h[1],d=K(m.useState(),2),g=d[0],E=d[1];return ge(function(){var p=Array.isArray(i)?i:[i],k=p.map(function(C){return X(C)}).filter(Boolean);if(k.length){var y=new IntersectionObserver(function(C){var R,I;try{for(var S=ve(C),N=S.next();!N.done;N=S.next()){var e=N.value;E(e.intersectionRatio),b(e.isIntersecting),c==null||c(e)}}catch(n){R={error:n}}finally{try{N&&!N.done&&(I=S.return)&&I.call(S)}finally{if(R)throw R.error}}},Q(Q({},f),{root:X(void 0)}));return k.forEach(function(C){return y.observe(C)}),function(){y.disconnect()}}},[void 0,void 0,c],i),[u,g]}var j=pe?m.useLayoutEffect:m.useEffect;const _e={closeOnMaskClick:!1,closeIcon:a.createElement(ne,null),destroyOnClose:!1,disableBodyScroll:!0,forceRender:!1,getContainer:()=>document.body,mask:!0,showCloseButton:!1,stopPropagation:["click"],visible:!1};function Ee(i){const[t,o]=m.useState(i);return j(()=>{o(i)},[i]),t}var H={},ke=J&&J.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(H,"__esModule",{value:!0});var ee=H.staged=void 0;const Ce=ke(m);function te(i){return typeof i=="function"?Ce.default.createElement(Ie,{stage:i}):i}function Ie(i){const t=i.stage();return te(t)}function Te(i){return function(o,c){const f=i(o,c);return te(f)}}ee=H.staged=Te;function L(i){return typeof i=="number"?`${i}px`:i}const Oe=i=>{const t=m.useRef(null),[o]=we(t);return m.useEffect(()=>{o&&i.onActive()},[o]),a.createElement("div",{ref:t})},Re=be(j),xe=()=>a.createElement("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M41.396 6.234c1.923 0 3.487 1.574 3.487 3.505v29.14c0 1.937-1.568 3.51-3.491 3.51H6.604c-1.923 0-3.487-1.573-3.487-3.51V9.745c0-1.936 1.564-3.51 3.487-3.51Zm0 2.847H6.604c-.355 0-.654.3-.654.658V34.9l5.989-8.707a2.373 2.373 0 0 1 1.801-1.005 2.405 2.405 0 0 1 1.933.752l4.182 4.525 7.58-11.005a2.374 2.374 0 0 1 1.96-1.01c.79 0 1.532.38 1.966 1.01L42.05 34.89V9.74a.664.664 0 0 0-.654-.658Zm-28.305 2.763a3.119 3.119 0 0 1 3.117 3.117 3.119 3.119 0 0 1-3.117 3.117 3.122 3.122 0 0 1-3.117-3.117 3.119 3.119 0 0 1 3.117-3.117Z",fill:"#DBDBDB",fillRule:"nonzero"})),Se=()=>a.createElement("svg",{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M19.233 6.233 17.42 9.08l-10.817.001a.665.665 0 0 0-.647.562l-.007.096V34.9l5.989-8.707a2.373 2.373 0 0 1 1.801-1.005 2.415 2.415 0 0 1 1.807.625l.126.127 4.182 4.525 2.267-3.292 5.461 7.841-4.065 7.375H6.604c-1.86 0-3.382-1.47-3.482-3.317l-.005-.192V9.744c0-1.872 1.461-3.405 3.296-3.505l.19-.005h12.63Zm22.163 0c1.86 0 3.382 1.472 3.482 3.314l.005.192v29.14a3.507 3.507 0 0 1-3.3 3.505l-.191.006H27.789l3.63-6.587.06-.119a1.87 1.87 0 0 0-.163-1.853l-6.928-9.949 3.047-4.422a2.374 2.374 0 0 1 1.96-1.01 2.4 2.4 0 0 1 1.86.87l.106.14L42.05 34.89V9.74a.664.664 0 0 0-.654-.658H21.855l1.812-2.848h17.73Zm-28.305 5.611c.794 0 1.52.298 2.07.788l-.843 1.325-.067.114a1.87 1.87 0 0 0 .11 1.959l.848 1.217c-.556.515-1.3.83-2.118.83a3.122 3.122 0 0 1-3.117-3.116 3.119 3.119 0 0 1 3.117-3.117Z",fill:"#DBDBDB",fillRule:"nonzero"})),F="adm-image",De={fit:"fill",placeholder:a.createElement("div",{className:`${F}-tip`},a.createElement(xe,null)),fallback:a.createElement("div",{className:`${F}-tip`},a.createElement(Se,null)),lazy:!1,draggable:!1},Ne=ee(i=>{const t=B(De,i),[o,c]=m.useState(!1),[f,h]=m.useState(!1),u=m.useRef(null),b=m.useRef(null);let d=t.src,g=t.srcSet;const[E,p]=m.useState(!t.lazy);d=E?t.src:void 0,g=E?t.srcSet:void 0,Re(()=>{c(!1),h(!1)},[d]),m.useEffect(()=>{var C;!((C=b.current)===null||C===void 0)&&C.complete&&c(!0)},[]);function k(){if(f)return a.createElement(a.Fragment,null,t.fallback);const C=a.createElement("img",{ref:b,id:t.id,className:`${F}-img`,src:d,alt:t.alt,onClick:t.onClick,onLoad:R=>{var I;c(!0),(I=t.onLoad)===null||I===void 0||I.call(t,R)},onError:R=>{var I;h(!0),(I=t.onError)===null||I===void 0||I.call(t,R)},style:{objectFit:t.fit,display:o?"block":"none"},crossOrigin:t.crossOrigin,decoding:t.decoding,loading:t.loading,referrerPolicy:t.referrerPolicy,sizes:t.sizes,srcSet:g,useMap:t.useMap,draggable:t.draggable});return a.createElement(a.Fragment,null,!o&&t.placeholder,C)}const y={};return t.width&&(y["--width"]=L(t.width),y.width=L(t.width)),t.height&&(y["--height"]=L(t.height),y.height=L(t.height)),A(t,a.createElement("div",{ref:u,className:F,style:y,onClick:t.onContainerClick},t.lazy&&!E&&a.createElement(Oe,{onActive:()=>{p(!0)}}),k()))}),Me="adm-dot-loading",Be={default:"var(--adm-color-weak)",primary:"var(--adm-color-primary)",white:"var(--adm-color-white)"},Pe={color:"default"},Ae=m.memo(i=>{var t;const o=B(Pe,i);return A(o,a.createElement("div",{style:{color:(t=Be[o.color])!==null&&t!==void 0?t:o.color},className:D("adm-loading",Me)},a.createElement("svg",{height:"1em",viewBox:"0 0 100 40",style:{verticalAlign:"-0.125em"}},a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(-100.000000, -71.000000)"},a.createElement("g",{transform:"translate(95.000000, 71.000000)"},a.createElement("g",{transform:"translate(5.000000, 0.000000)"},[0,1,2].map(c=>a.createElement("rect",{key:c,fill:"currentColor",x:20+c*26,y:"16",width:"8",height:"8",rx:"2"},a.createElement("animate",{attributeName:"y",from:"16",to:"16",dur:"2s",begin:`${c*.2}s`,repeatCount:"indefinite",values:"16; 6; 26; 16; 16",keyTimes:"0; 0.1; 0.3; 0.4; 1"}))))))))))});function $e(i){return!!i&&typeof i=="object"&&typeof i.then=="function"}const O="adm-button",Le={color:"default",fill:"solid",block:!1,loading:!1,loadingIcon:a.createElement(Ae,{color:"currentColor"}),type:"button",shape:"default",size:"middle"},Ve=m.forwardRef((i,t)=>{const o=B(Le,i),[c,f]=m.useState(!1),h=m.useRef(null),u=o.loading==="auto"?c:o.loading,b=o.disabled||u;m.useImperativeHandle(t,()=>({get nativeElement(){return h.current}}));const d=g=>U(void 0,void 0,void 0,function*(){if(!o.onClick)return;const E=o.onClick(g);if($e(E))try{f(!0),yield E,f(!1)}catch(p){throw f(!1),p}});return A(o,a.createElement("button",{ref:h,type:o.type,onClick:d,className:D(O,{[`${O}-${o.color}`]:o.color,[`${O}-block`]:o.block,[`${O}-disabled`]:b,[`${O}-fill-outline`]:o.fill==="outline",[`${O}-fill-none`]:o.fill==="none",[`${O}-mini`]:o.size==="mini",[`${O}-small`]:o.size==="small",[`${O}-large`]:o.size==="large",[`${O}-loading`]:u},`${O}-shape-${o.shape}`),disabled:b,onMouseDown:o.onMouseDown,onMouseUp:o.onMouseUp,onTouchStart:o.onTouchStart,onTouchEnd:o.onTouchEnd},u?a.createElement("div",{className:`${O}-loading-wrapper`},o.loadingIcon,o.loadingText):a.createElement("span",null,o.children)))}),P="adm-center-popup",Ue=Object.assign(Object.assign({},_e),{getContainer:null}),Fe=i=>{const{popup:t={}}=he(),o=B(Ue,t,i),c=re(),f=ie({scale:o.visible?1:.8,opacity:o.visible?1:0,config:{mass:1.2,tension:200,friction:25,clamp:!0},onRest:()=>{var p,k;c.current||(u(o.visible),o.visible?(p=o.afterShow)===null||p===void 0||p.call(o):(k=o.afterClose)===null||k===void 0||k.call(o))}}),[h,u]=m.useState(o.visible);j(()=>{o.visible&&u(!0)},[o.visible]);const b=m.useRef(null);se(b,o.disableBodyScroll&&h);const d=Ee(h&&o.visible),g=a.createElement("div",{className:D(`${P}-body`,o.bodyClassName),style:o.bodyStyle},o.children),E=ae(o.stopPropagation,A(o,a.createElement("div",{className:P,style:{display:h?void 0:"none",pointerEvents:h?void 0:"none"}},o.mask&&a.createElement(le,{visible:d,forceRender:o.forceRender,destroyOnClose:o.destroyOnClose,onMaskClick:p=>{var k,y;(k=o.onMaskClick)===null||k===void 0||k.call(o,p),o.closeOnMaskClick&&((y=o.onClose)===null||y===void 0||y.call(o))},style:o.maskStyle,className:D(`${P}-mask`,o.maskClassName),disableBodyScroll:!1,stopPropagation:o.stopPropagation}),a.createElement("div",{className:`${P}-wrap`,role:o.role,"aria-label":o["aria-label"]},a.createElement(ce.div,{style:Object.assign(Object.assign({},f),{pointerEvents:f.opacity.to(p=>p===1?"unset":"none")}),ref:b},o.showCloseButton&&a.createElement("a",{className:D(`${P}-close`,"adm-plain-anchor"),onClick:()=>{var p;(p=o.onClose)===null||p===void 0||p.call(o)}},o.closeIcon),g)))));return a.createElement(ue,{active:h,forceRender:o.forceRender,destroyOnClose:o.destroyOnClose},fe(o.getContainer,E))},ze=i=>{const{action:t}=i;return A(i.action,a.createElement(Ve,{key:t.key,onClick:i.onAction,className:D("adm-dialog-button",{"adm-dialog-button-bold":t.bold}),fill:"none",shape:"rectangular",block:!0,color:t.danger?"danger":"primary",loading:"auto",disabled:t.disabled},t.text))},je={actions:[],closeOnAction:!1,closeOnMaskClick:!1,getContainer:null},oe=i=>{const t=B(je,i),o=a.createElement(a.Fragment,null,!!t.image&&a.createElement("div",{className:x("image-container")},a.createElement(Ne,{src:t.image,alt:"dialog header image",width:"100%"})),!!t.header&&a.createElement("div",{className:x("header")},a.createElement(G,null,t.header)),!!t.title&&a.createElement("div",{className:x("title")},t.title),a.createElement("div",{className:D(x("content"),!t.content&&x("content-empty"))},typeof t.content=="string"?a.createElement(G,null,t.content):t.content),a.createElement("div",{className:x("footer")},t.actions.map((c,f)=>{const h=Array.isArray(c)?c:[c];return a.createElement("div",{className:x("action-row"),key:f},h.map((u,b)=>a.createElement(ze,{key:u.key,action:u,onAction:()=>U(void 0,void 0,void 0,function*(){var d,g,E;yield Promise.all([(d=u.onClick)===null||d===void 0?void 0:d.call(u),(g=t.onAction)===null||g===void 0?void 0:g.call(t,u,b)]),t.closeOnAction&&((E=t.onClose)===null||E===void 0||E.call(t))})})))})));return a.createElement(Fe,{className:D(x(),t.className),style:t.style,afterClose:t.afterClose,afterShow:t.afterShow,onMaskClick:t.closeOnMaskClick?()=>{var c;(c=t.onClose)===null||c===void 0||c.call(t)}:void 0,visible:t.visible,getContainer:t.getContainer,bodyStyle:t.bodyStyle,bodyClassName:D(x("body"),t.image&&x("with-image"),t.bodyClassName),maskStyle:t.maskStyle,maskClassName:t.maskClassName,stopPropagation:t.stopPropagation,disableBodyScroll:t.disableBodyScroll,destroyOnClose:t.destroyOnClose,forceRender:t.forceRender,role:"dialog","aria-label":t["aria-label"]},o)};function x(i=""){return"adm-dialog"+(i&&"-")+i}const z=new Set;function q(i){const t=de(a.createElement(oe,Object.assign({},i,{afterClose:()=>{var o;z.delete(t.close),(o=i.afterClose)===null||o===void 0||o.call(i)}})));return z.add(t.close),t}function He(i){const t={confirmText:Y().locale.Dialog.ok},o=B(t,i);return new Promise(c=>{q(Object.assign(Object.assign({},o),{closeOnAction:!0,actions:[{key:"confirm",text:o.confirmText}],onAction:o.onConfirm,onClose:()=>{var f;(f=o.onClose)===null||f===void 0||f.call(o),c()}}))})}const qe={confirmText:"确认",cancelText:"取消"};function We(i){const{locale:t}=Y(),o=B(qe,{confirmText:t.common.confirm,cancelText:t.common.cancel},i);return new Promise(c=>{q(Object.assign(Object.assign({},o),{closeOnAction:!0,onClose:()=>{var f;(f=o.onClose)===null||f===void 0||f.call(o),c(!1)},actions:[[{key:"cancel",text:o.cancelText,onClick:()=>U(this,void 0,void 0,function*(){var f;yield(f=o.onCancel)===null||f===void 0?void 0:f.call(o),c(!1)})},{key:"confirm",text:o.confirmText,bold:!0,onClick:()=>U(this,void 0,void 0,function*(){var f;yield(f=o.onConfirm)===null||f===void 0?void 0:f.call(o),c(!0)})}]]}))})}function Ze(){z.forEach(i=>{i()})}const Ge=ye(oe,{show:q,alert:He,confirm:We,clear:Ze}),Je=()=>$(void 0,null,function*(){return((yield V.keys())||[]).map(t=>({name:t,img:""}))}),Ke=i=>$(void 0,null,function*(){if(!(i instanceof File))throw new Error("book is not a File");const{name:t}=i;(yield V.getItem(t))&&!(yield Ge.confirm({content:"该书籍已存在，是否覆盖？"}))||(yield V.setItem(t,i))}),Qe=i=>$(void 0,null,function*(){yield V.removeItem(i)}),it=Object.freeze(Object.defineProperty({__proto__:null,addBookToBookrack:Ke,fetchBookrack:Je,removeBookFromBookrack:Qe},Symbol.toStringTag,{value:"Module"}));export{Ne as I,Ee as a,Ke as b,_e as d,Je as f,it as i,Qe as r,L as t,j as u};

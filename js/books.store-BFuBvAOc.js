var De=(e,t,n)=>new Promise((r,s)=>{var f=y=>{try{v(n.next(y))}catch(m){s(m)}},h=y=>{try{v(n.throw(y))}catch(m){s(m)}},v=y=>y.done?r(y.value):Promise.resolve(y.value).then(f,h);v((n=n.apply(e,t)).next())});import{c as Jt,m as Wi,u as Hi,w as hr}from"./with-default-props-kKbqWDQo.js";import{r as N,b as mr,R as ie,a as Gi,f as et,g as Ki}from"./index-7WbT3z16.js";import{f as pr}from"./tslib.es6-stJkEJF-.js";var Xi=function(){var e=N.useRef(!1);return N.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e};const Bn=10;function Zi(e,t){return e>t&&e>Bn?"horizontal":t>e&&t>Bn?"vertical":""}function Ji(){const e=N.useRef(0),t=N.useRef(0),n=N.useRef(0),r=N.useRef(0),s=N.useRef(0),f=N.useRef(0),h=N.useRef(""),v=()=>h.current==="vertical",y=()=>h.current==="horizontal",m=()=>{n.current=0,r.current=0,s.current=0,f.current=0,h.current=""};return{move:g=>{const A=g.touches[0];n.current=A.clientX<0?0:A.clientX-e.current,r.current=A.clientY-t.current,s.current=Math.abs(n.current),f.current=Math.abs(r.current),h.current||(h.current=Zi(s.current,f.current))},start:g=>{m(),e.current=g.touches[0].clientX,t.current=g.touches[0].clientY},reset:m,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:s,offsetY:f,direction:h,isVertical:v,isHorizontal:y}}const eo=Jt?window:void 0,to=["scroll","auto","overlay"];function no(e){return e.nodeType===1}function ro(e,t=eo){let n=e;for(;n&&n!==t&&no(n);){if(n===document.body)return t;const{overflowY:r}=window.getComputedStyle(n);if(to.includes(r)&&n.scrollHeight>n.clientHeight)return n;n=n.parentNode}return t}let Ut=!1;if(Jt)try{const e={};Object.defineProperty(e,"passive",{get(){Ut=!0}}),window.addEventListener("test-passive",null,e)}catch(e){}let Fe=0;const Vn="adm-overflow-hidden";function io(e){let t=e==null?void 0:e.parentElement;for(;t;){if(t.clientHeight<t.scrollHeight)return t;t=t.parentElement}return null}function oo(e,t){const n=Ji(),r=h=>{n.move(h);const v=n.deltaY.current>0?"10":"01",y=ro(h.target,e.current);if(!y)return;if(t==="strict"){const I=io(h.target);if(I===document.body||I===document.documentElement){h.preventDefault();return}}const{scrollHeight:m,offsetHeight:_,scrollTop:d}=y,{height:g}=y.getBoundingClientRect();let A="11";d===0?A=_>=m?"00":"01":m<=Math.round(g+d)&&(A="10"),A!=="11"&&n.isVertical()&&!(parseInt(A,2)&parseInt(v,2))&&h.cancelable&&Ut&&h.preventDefault()},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",r,Ut?{passive:!1}:!1),Fe||document.body.classList.add(Vn),Fe++},f=()=>{Fe&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",r),Fe--,Fe||document.body.classList.remove(Vn))};N.useEffect(()=>{if(t)return s(),()=>{f()}},[t])}let en=Xe();const k=e=>Ke(e,en);let tn=Xe();k.write=e=>Ke(e,tn);let pt=Xe();k.onStart=e=>Ke(e,pt);let nn=Xe();k.onFrame=e=>Ke(e,nn);let rn=Xe();k.onFinish=e=>Ke(e,rn);let Re=[];k.setTimeout=(e,t)=>{let n=k.now()+t,r=()=>{let f=Re.findIndex(h=>h.cancel==r);~f&&Re.splice(f,1),ve-=~f?1:0},s={time:n,handler:e,cancel:r};return Re.splice(vr(n),0,s),ve+=1,gr(),s};let vr=e=>~(~Re.findIndex(t=>t.time>e)||~Re.length);k.cancel=e=>{pt.delete(e),nn.delete(e),rn.delete(e),en.delete(e),tn.delete(e)};k.sync=e=>{jt=!0,k.batchedUpdates(e),jt=!1};k.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,k.onStart(n)}return r.handler=e,r.cancel=()=>{pt.delete(n),t=null},r};let on=typeof window!="undefined"?window.requestAnimationFrame:()=>{};k.use=e=>on=e;k.now=typeof performance!="undefined"?()=>performance.now():Date.now;k.batchedUpdates=e=>e();k.catch=console.error;k.frameLoop="always";k.advance=()=>{k.frameLoop!=="demand"||br()};let pe=-1,ve=0,jt=!1;function Ke(e,t){jt?(t.delete(e),e(0)):(t.add(e),gr())}function gr(){pe<0&&(pe=0,k.frameLoop!=="demand"&&on(yr))}function so(){pe=-1}function yr(){~pe&&(on(yr),k.batchedUpdates(br))}function br(){let e=pe;pe=k.now();let t=vr(pe);if(t&&(_r(Re.splice(0,t),n=>n.handler()),ve-=t),!ve){so();return}pt.flush(),en.flush(e?Math.min(64,pe-e):16.667),nn.flush(),tn.flush(),rn.flush()}function Xe(){let e=new Set,t=e;return{add(n){ve+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return ve-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,ve-=t.size,_r(t,r=>r(n)&&e.add(r)),ve+=e.size,t=e)}}}function _r(e,t){e.forEach(n=>{try{t(n)}catch(r){k.catch(r)}})}function zt(){}const ao=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),E={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function le(e,t){if(E.arr(e)){if(!E.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const $=(e,t)=>e.forEach(t);function ae(e,t,n){if(E.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}const J=e=>E.und(e)?[]:E.arr(e)?e:[e];function Ve(e,t){if(e.size){const n=Array.from(e);e.clear(),$(n,t)}}const Be=(e,...t)=>Ve(e,n=>n(...t)),sn=()=>typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let an,wr,ge=null,xr=!1,fn=zt;const fo=e=>{e.to&&(wr=e.to),e.now&&(k.now=e.now),e.colors!==void 0&&(ge=e.colors),e.skipAnimation!=null&&(xr=e.skipAnimation),e.createStringInterpolator&&(an=e.createStringInterpolator),e.requestAnimationFrame&&k.use(e.requestAnimationFrame),e.batchedUpdates&&(k.batchedUpdates=e.batchedUpdates),e.willAdvance&&(fn=e.willAdvance),e.frameLoop&&(k.frameLoop=e.frameLoop)};var fe=Object.freeze({__proto__:null,get createStringInterpolator(){return an},get to(){return wr},get colors(){return ge},get skipAnimation(){return xr},get willAdvance(){return fn},assign:fo});const $e=new Set;let ne=[],Ft=[],at=0;const vt={get idle(){return!$e.size&&!ne.length},start(e){at>e.priority?($e.add(e),k.onStart(uo)):(Sr(e),k(Qt))},advance:Qt,sort(e){if(at)k.onFrame(()=>vt.sort(e));else{const t=ne.indexOf(e);~t&&(ne.splice(t,1),Er(e))}},clear(){ne=[],$e.clear()}};function uo(){$e.forEach(Sr),$e.clear(),k(Qt)}function Sr(e){ne.includes(e)||Er(e)}function Er(e){ne.splice(co(ne,t=>t.priority>e.priority),0,e)}function Qt(e){const t=Ft;for(let n=0;n<ne.length;n++){const r=ne[n];at=r.priority,r.idle||(fn(r),r.advance(e),r.idle||t.push(r))}return at=0,Ft=ne,Ft.length=0,ne=t,ne.length>0}function co(e,t){const n=e.findIndex(t);return n<0?e.length:n}const lo=(e,t,n)=>Math.min(Math.max(n,e),t),ho={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},oe="[-+]?\\d*\\.?\\d+",ft=oe+"%";function gt(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const mo=new RegExp("rgb"+gt(oe,oe,oe)),po=new RegExp("rgba"+gt(oe,oe,oe,oe)),vo=new RegExp("hsl"+gt(oe,ft,ft)),go=new RegExp("hsla"+gt(oe,ft,ft,oe)),yo=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,bo=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,_o=/^#([0-9a-fA-F]{6})$/,wo=/^#([0-9a-fA-F]{8})$/;function xo(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=_o.exec(e))?parseInt(t[1]+"ff",16)>>>0:ge&&ge[e]!==void 0?ge[e]:(t=mo.exec(e))?(Ee(t[1])<<24|Ee(t[2])<<16|Ee(t[3])<<8|255)>>>0:(t=po.exec(e))?(Ee(t[1])<<24|Ee(t[2])<<16|Ee(t[3])<<8|jn(t[4]))>>>0:(t=yo.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=wo.exec(e))?parseInt(t[1],16)>>>0:(t=bo.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=vo.exec(e))?($n(Un(t[1]),tt(t[2]),tt(t[3]))|255)>>>0:(t=go.exec(e))?($n(Un(t[1]),tt(t[2]),tt(t[3]))|jn(t[4]))>>>0:null}function Mt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $n(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,f=Mt(s,r,e+1/3),h=Mt(s,r,e),v=Mt(s,r,e-1/3);return Math.round(f*255)<<24|Math.round(h*255)<<16|Math.round(v*255)<<8}function Ee(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Un(e){return(parseFloat(e)%360+360)%360/360}function jn(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function tt(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function zn(e){let t=xo(e);if(t===null)return e;t=t||0;let n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,f=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${f})`}const ze=(e,t,n)=>{if(E.fun(e))return e;if(E.arr(e))return ze({range:e,output:t,extrapolate:n});if(E.str(e.output[0]))return an(e);const r=e,s=r.output,f=r.range||[0,1],h=r.extrapolateLeft||r.extrapolate||"extend",v=r.extrapolateRight||r.extrapolate||"extend",y=r.easing||(m=>m);return m=>{const _=Eo(m,f);return So(m,f[_],f[_+1],s[_],s[_+1],y,h,v,r.map)}};function So(e,t,n,r,s,f,h,v,y){let m=y?y(e):e;if(m<t){if(h==="identity")return m;h==="clamp"&&(m=t)}if(m>n){if(v==="identity")return m;v==="clamp"&&(m=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?m=-m:n===1/0?m=m-t:m=(m-t)/(n-t),m=f(m),r===-1/0?m=-m:s===1/0?m=m+r:m=m*(s-r)+r,m)}function Eo(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}const Ro=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,s=t==="end"?Math.floor(r):Math.ceil(r);return lo(0,1,s/e)},ut=1.70158,nt=ut*1.525,Qn=ut+1,qn=2*Math.PI/3,Yn=2*Math.PI/4.5,rt=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Io={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>Qn*e*e*e-ut*e*e,easeOutBack:e=>1+Qn*Math.pow(e-1,3)+ut*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((nt+1)*2*e-nt)/2:(Math.pow(2*e-2,2)*((nt+1)*(e*2-2)+nt)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*qn),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*qn)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Yn))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Yn)/2+1,easeInBounce:e=>1-rt(1-e),easeOutBounce:rt,easeInOutBounce:e=>e<.5?(1-rt(1-2*e))/2:(1+rt(2*e-1))/2,steps:Ro};function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qt.apply(this,arguments)}const Ae=Symbol.for("FluidValue.get"),be=Symbol.for("FluidValue.observers"),te=e=>!!(e&&e[Ae]),Z=e=>e&&e[Ae]?e[Ae]():e,Wn=e=>e[be]||null;function Ao(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Qe(e,t){let n=e[be];n&&n.forEach(r=>{Ao(r,t)})}class Rr{constructor(t){if(this[Ae]=void 0,this[be]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Po(this,t)}}const Po=(e,t)=>Ir(e,Ae,t);function Ce(e,t){if(e[Ae]){let n=e[be];n||Ir(e,be,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function qe(e,t){let n=e[be];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[be]=null,e.observerRemoved&&e.observerRemoved(r,t)}}const Ir=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),ot=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Co=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Hn=new RegExp(`(${ot.source})(%|[a-z]+)`,"i"),Oo=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,yt=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ar=e=>{const[t,n]=To(e);if(!t||sn())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&yt.test(n))return Ar(n);if(n)return n}return e},To=e=>{const t=yt.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]};let Lt;const No=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,Pr=e=>{Lt||(Lt=ge?new RegExp(`(${Object.keys(ge).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(f=>Z(f).replace(yt,Ar).replace(Co,zn).replace(Lt,zn)),n=t.map(f=>f.match(ot).map(Number)),s=n[0].map((f,h)=>n.map(v=>{if(!(h in v))throw Error('The arity of each "output" value must be equal');return v[h]})).map(f=>ze(qt({},e,{output:f})));return f=>{var h;const v=!Hn.test(t[0])&&((h=t.find(m=>Hn.test(m)))==null?void 0:h.replace(ot,""));let y=0;return t[0].replace(ot,()=>`${s[y++](f)}${v||""}`).replace(Oo,No)}},un="react-spring: ",Cr=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${un}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Do=Cr(console.warn);function Fo(){Do(`${un}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const Mo=Cr(console.warn);function Lo(){Mo(`${un}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function bt(e){return E.str(e)&&(e[0]=="#"||/\d/.test(e)||!sn()&&yt.test(e)||e in(ge||{}))}const cn=sn()?N.useEffect:N.useLayoutEffect,ko=()=>{const e=N.useRef(!1);return cn(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Or(){const e=N.useState()[1],t=ko();return()=>{t.current&&e(Math.random())}}function Bo(e,t){const[n]=N.useState(()=>({inputs:t,result:e()})),r=N.useRef(),s=r.current;let f=s;return f?t&&f.inputs&&Vo(t,f.inputs)||(f={inputs:t,result:e()}):f=n,N.useEffect(()=>{r.current=f,s==n&&(n.inputs=n.result=void 0)},[f]),f.result}function Vo(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Tr=e=>N.useEffect(e,$o),$o=[];function Gn(e){const t=N.useRef();return N.useEffect(()=>{t.current=e}),t.current}const Ye=Symbol.for("Animated:node"),Uo=e=>!!e&&e[Ye]===e,se=e=>e&&e[Ye],ln=(e,t)=>ao(e,Ye,t),_t=e=>e&&e[Ye]&&e[Ye].getPayload();class Nr{constructor(){this.payload=void 0,ln(this,this)}getPayload(){return this.payload||[]}}class Oe extends Nr{constructor(t){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=t,E.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Oe(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return E.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,E.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}class Pe extends Oe{constructor(t){super(0),this._string=null,this._toString=void 0,this._toString=ze({output:[t,t]})}static create(t){return new Pe(t)}getValue(){let t=this._string;return t==null?this._string=this._toString(this._value):t}setValue(t){if(E.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=ze({output:[this.getValue(),t]})),this._value=0,super.reset()}}const ct={dependencies:null};class wt extends Nr{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const n={};return ae(this.source,(r,s)=>{Uo(r)?n[s]=r.getValue(t):te(r)?n[s]=Z(r):t||(n[s]=r)}),n}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&$(this.payload,t=>t.reset())}_makePayload(t){if(t){const n=new Set;return ae(t,this._addToPayload,n),Array.from(n)}}_addToPayload(t){ct.dependencies&&te(t)&&ct.dependencies.add(t);const n=_t(t);n&&$(n,r=>this.add(r))}}class dn extends wt{constructor(t){super(t)}static create(t){return new dn(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const n=this.getPayload();return t.length==n.length?n.map((r,s)=>r.setValue(t[s])).some(Boolean):(super.setValue(t.map(jo)),!0)}}function jo(e){return(bt(e)?Pe:Oe).create(e)}function Yt(e){const t=se(e);return t?t.constructor:E.arr(e)?dn:bt(e)?Pe:Oe}function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(this,arguments)}const Kn=(e,t)=>{const n=!E.fun(e)||e.prototype&&e.prototype.isReactComponent;return N.forwardRef((r,s)=>{const f=N.useRef(null),h=n&&N.useCallback(I=>{f.current=qo(s,I)},[s]),[v,y]=Qo(r,t),m=Or(),_=()=>{const I=f.current;if(n&&!I)return;(I?t.applyAnimatedValues(I,v.getValue(!0)):!1)===!1&&m()},d=new zo(_,y),g=N.useRef();cn(()=>(g.current=d,$(y,I=>Ce(I,d)),()=>{g.current&&($(g.current.deps,I=>qe(I,g.current)),k.cancel(g.current.update))})),N.useEffect(_,[]),Tr(()=>()=>{const I=g.current;$(I.deps,C=>qe(C,I))});const A=t.getComponentProps(v.getValue());return N.createElement(e,lt({},A,{ref:h}))})};class zo{constructor(t,n){this.update=t,this.deps=n}eventObserved(t){t.type=="change"&&k.write(this.update)}}function Qo(e,t){const n=new Set;return ct.dependencies=n,e.style&&(e=lt({},e,{style:t.createAnimatedStyle(e.style)})),e=new wt(e),ct.dependencies=null,[e,n]}function qo(e,t){return e&&(E.fun(e)?e(t):e.current=t),t}const Xn=Symbol.for("AnimatedComponent"),Yo=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new wt(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},f=h=>{const v=Zn(h)||"Anonymous";return E.str(h)?h=f[h]||(f[h]=Kn(h,s)):h=h[Xn]||(h[Xn]=Kn(h,s)),h.displayName=`Animated(${v})`,h};return ae(e,(h,v)=>{E.arr(e)&&(v=Zn(h)),f[v]=f(h)}),{animated:f}},Zn=e=>E.str(e)?e:e&&E.str(e.displayName)?e.displayName:E.fun(e)&&e.name||null;function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function ye(e,...t){return E.fun(e)?e(...t):e}const Ue=(e,t)=>e===!0||!!(t&&e&&(E.fun(e)?e(t):J(e).includes(t))),Dr=(e,t)=>E.obj(e)?t&&e[t]:e,Fr=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Wo=e=>e,hn=(e,t=Wo)=>{let n=Ho;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const f=t(e[s],s);E.und(f)||(r[s]=f)}return r},Ho=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Go={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Ko(e){const t={};let n=0;if(ae(e,(r,s)=>{Go[s]||(t[s]=r,n++)}),n)return t}function Mr(e){const t=Ko(e);if(t){const n={to:t};return ae(e,(r,s)=>s in t||(n[s]=r)),n}return K({},e)}function We(e){return e=Z(e),E.arr(e)?e.map(We):bt(e)?fe.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Xo(e){for(const t in e)return!0;return!1}function Wt(e){return E.fun(e)||E.arr(e)&&E.obj(e[0])}function Zo(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Jo(e,t){if(t&&e.ref!==t){var n;(n=e.ref)==null||n.delete(e),t.add(e),e.ref=t}}const es={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Ht=K({},es.default,{mass:1,damping:1,easing:Io.linear,clamp:!1});class ts{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Ht)}}function ns(e,t,n){n&&(n=K({},n),Jn(n,t),t=K({},n,t)),Jn(e,t),Object.assign(e,t);for(const h in Ht)e[h]==null&&(e[h]=Ht[h]);let{mass:r,frequency:s,damping:f}=e;return E.und(s)||(s<.01&&(s=.01),f<0&&(f=0),e.tension=Math.pow(2*Math.PI/s,2)*r,e.friction=4*Math.PI*f*r/s),e}function Jn(e,t){if(!E.und(t.decay))e.duration=void 0;else{const n=!E.und(t.tension)||!E.und(t.friction);(n||!E.und(t.frequency)||!E.und(t.damping)||!E.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}const er=[];class rs{constructor(){this.changed=!1,this.values=er,this.toValues=null,this.fromValues=er,this.to=void 0,this.from=void 0,this.config=new ts,this.immediate=!1}}function Lr(e,{key:t,props:n,defaultProps:r,state:s,actions:f}){return new Promise((h,v)=>{var y;let m,_,d=Ue((y=n.cancel)!=null?y:r==null?void 0:r.cancel,t);if(d)I();else{E.und(n.pause)||(s.paused=Ue(n.pause,t));let C=r==null?void 0:r.pause;C!==!0&&(C=s.paused||Ue(C,t)),m=ye(n.delay||0,t),C?(s.resumeQueue.add(A),f.pause()):(f.resume(),A())}function g(){s.resumeQueue.add(A),s.timeouts.delete(_),_.cancel(),m=_.time-k.now()}function A(){m>0&&!fe.skipAnimation?(s.delayed=!0,_=k.setTimeout(I,m),s.pauseQueue.add(g),s.timeouts.add(_)):I()}function I(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(g),s.timeouts.delete(_),e<=(s.cancelId||0)&&(d=!0);try{f.start(K({},n,{callId:e,cancel:d}),h)}catch(C){v(C)}}})}const mn=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Ie(e.get()):t.every(n=>n.noop)?kr(e.get()):re(e.get(),t.every(n=>n.finished)),kr=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),re=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Ie=e=>({value:e,cancelled:!0,finished:!1});function Br(e,t,n,r){const{callId:s,parentId:f,onRest:h}=t,{asyncTo:v,promise:y}=n;return!f&&e===v&&!t.reset?y:n.promise=De(this,null,function*(){n.asyncId=s,n.asyncTo=e;const m=hn(t,(P,D)=>D==="onRest"?void 0:P);let _,d;const g=new Promise((P,D)=>(_=P,d=D)),A=P=>{const D=s<=(n.cancelId||0)&&Ie(r)||s!==n.asyncId&&re(r,!1);if(D)throw P.result=D,d(P),P},I=(P,D)=>{const T=new tr,U=new nr;return De(this,null,function*(){if(fe.skipAnimation)throw He(n),U.result=re(r,!1),d(U),U;A(T);const F=E.obj(P)?K({},P):K({},D,{to:P});F.parentId=s,ae(m,(L,M)=>{E.und(F[M])&&(F[M]=L)});const S=yield r.start(F);return A(T),n.paused&&(yield new Promise(L=>{n.resumeQueue.add(L)})),S})};let C;if(fe.skipAnimation)return He(n),re(r,!1);try{let P;E.arr(e)?P=(D=>De(this,null,function*(){for(const T of D)yield I(T)}))(e):P=Promise.resolve(e(I,r.stop.bind(r))),yield Promise.all([P.then(_),g]),C=re(r.get(),!0,!1)}catch(P){if(P instanceof tr)C=P.result;else if(P instanceof nr)C=P.result;else throw P}finally{s==n.asyncId&&(n.asyncId=f,n.asyncTo=f?v:void 0,n.promise=f?y:void 0)}return E.fun(h)&&k.batchedUpdates(()=>{h(C,r,r.item)}),C})}function He(e,t){Ve(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class tr extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class nr extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const Gt=e=>e instanceof pn;let is=1;class pn extends Rr{constructor(...t){super(...t),this.id=is++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=se(this);return t&&t.getValue()}to(...t){return fe.to(this,t)}interpolate(...t){return Fo(),fe.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,n=!1){Qe(this,{type:"change",parent:this,value:t,idle:n})}_onPriorityChange(t){this.idle||vt.sort(this),Qe(this,{type:"priority",parent:this,priority:t})}}const _e=Symbol.for("SpringPhase"),Vr=1,Kt=2,Xt=4,kt=e=>(e[_e]&Vr)>0,me=e=>(e[_e]&Kt)>0,Me=e=>(e[_e]&Xt)>0,rr=(e,t)=>t?e[_e]|=Kt|Vr:e[_e]&=~Kt,ir=(e,t)=>t?e[_e]|=Xt:e[_e]&=~Xt;class os extends pn{constructor(t,n){if(super(),this.key=void 0,this.animation=new rs,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!E.und(t)||!E.und(n)){const r=E.obj(t)?K({},t):K({},n,{from:t});E.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(me(this)||this._state.asyncTo)||Me(this)}get goal(){return Z(this.animation.to)}get velocity(){const t=se(this);return t instanceof Oe?t.lastVelocity||0:t.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return kt(this)}get isAnimating(){return me(this)}get isPaused(){return Me(this)}get isDelayed(){return this._state.delayed}advance(t){let n=!0,r=!1;const s=this.animation;let{config:f,toValues:h}=s;const v=_t(s.to);!v&&te(s.to)&&(h=J(Z(s.to))),s.values.forEach((_,d)=>{if(_.done)return;const g=_.constructor==Pe?1:v?v[d].lastPosition:h[d];let A=s.immediate,I=g;if(!A){if(I=_.lastPosition,f.tension<=0){_.done=!0;return}let C=_.elapsedTime+=t;const P=s.fromValues[d],D=_.v0!=null?_.v0:_.v0=E.arr(f.velocity)?f.velocity[d]:f.velocity;let T;const U=f.precision||(P==g?.005:Math.min(1,Math.abs(g-P)*.001));if(E.und(f.duration))if(f.decay){const F=f.decay===!0?.998:f.decay,S=Math.exp(-(1-F)*C);I=P+D/(1-F)*(1-S),A=Math.abs(_.lastPosition-I)<=U,T=D*S}else{T=_.lastVelocity==null?D:_.lastVelocity;const F=f.restVelocity||U/10,S=f.clamp?0:f.bounce,L=!E.und(S),M=P==g?_.v0>0:P<g;let V,Y=!1;const Q=1,G=Math.ceil(t/Q);for(let q=0;q<G&&(V=Math.abs(T)>F,!(!V&&(A=Math.abs(g-I)<=U,A)));++q){L&&(Y=I==g||I>g==M,Y&&(T=-T*S,I=g));const X=-f.tension*1e-6*(I-g),ue=-f.friction*.001*T,we=(X+ue)/f.mass;T=T+we*Q,I=I+T*Q}}else{let F=1;f.duration>0&&(this._memoizedDuration!==f.duration&&(this._memoizedDuration=f.duration,_.durationProgress>0&&(_.elapsedTime=f.duration*_.durationProgress,C=_.elapsedTime+=t)),F=(f.progress||0)+C/this._memoizedDuration,F=F>1?1:F<0?0:F,_.durationProgress=F),I=P+f.easing(F)*(g-P),T=(I-_.lastPosition)/t,A=F==1}_.lastVelocity=T,Number.isNaN(I)&&(A=!0)}v&&!v[d].done&&(A=!1),A?_.done=!0:n=!1,_.setValue(I,f.round)&&(r=!0)});const y=se(this),m=y.getValue();if(n){const _=Z(s.to);(m!==_||r)&&!f.decay?(y.setValue(_),this._onChange(_)):r&&f.decay&&this._onChange(m),this._stop()}else r&&this._onChange(m)}set(t){return k.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(me(this)){const{to:t,config:n}=this.animation;k.batchedUpdates(()=>{this._onStart(),n.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,n){let r;return E.und(t)?(r=this.queue||[],this.queue=[]):r=[E.obj(t)?t:K({},n,{to:t})],Promise.all(r.map(s=>this._update(s))).then(s=>mn(this,s))}stop(t){const{to:n}=this.animation;return this._focus(this.get()),He(this._state,t&&this._lastCallId),k.batchedUpdates(()=>this._stop(n,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const n=this.key||"";let{to:r,from:s}=t;r=E.obj(r)?r[n]:r,(r==null||Wt(r))&&(r=void 0),s=E.obj(s)?s[n]:s,s==null&&(s=void 0);const f={to:r,from:s};return kt(this)||(t.reverse&&([r,s]=[s,r]),s=Z(s),E.und(s)?se(this)||this._set(r):this._set(s)),f}_update(t,n){let r=K({},t);const{key:s,defaultProps:f}=this;r.default&&Object.assign(f,hn(r,(y,m)=>/^on/.test(m)?Dr(y,s):y)),sr(this,r,"onProps"),ke(this,"onProps",r,this);const h=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const v=this._state;return Lr(++this._lastCallId,{key:s,props:r,defaultProps:f,state:v,actions:{pause:()=>{Me(this)||(ir(this,!0),Be(v.pauseQueue),ke(this,"onPause",re(this,Le(this,this.animation.to)),this))},resume:()=>{Me(this)&&(ir(this,!1),me(this)&&this._resume(),Be(v.resumeQueue),ke(this,"onResume",re(this,Le(this,this.animation.to)),this))},start:this._merge.bind(this,h)}}).then(y=>{if(r.loop&&y.finished&&!(n&&y.noop)){const m=$r(r);if(m)return this._update(m,!0)}return y})}_merge(t,n,r){if(n.cancel)return this.stop(!0),r(Ie(this));const s=!E.und(t.to),f=!E.und(t.from);if(s||f)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(Ie(this));const{key:h,defaultProps:v,animation:y}=this,{to:m,from:_}=y;let{to:d=m,from:g=_}=t;f&&!s&&(!n.default||E.und(d))&&(d=g),n.reverse&&([d,g]=[g,d]);const A=!le(g,_);A&&(y.from=g),g=Z(g);const I=!le(d,m);I&&this._focus(d);const C=Wt(n.to),{config:P}=y,{decay:D,velocity:T}=P;(s||f)&&(P.velocity=0),n.config&&!C&&ns(P,ye(n.config,h),n.config!==v.config?ye(v.config,h):void 0);let U=se(this);if(!U||E.und(d))return r(re(this,!0));const F=E.und(n.reset)?f&&!n.default:!E.und(g)&&Ue(n.reset,h),S=F?g:this.get(),L=We(d),M=E.num(L)||E.arr(L)||bt(L),V=!C&&(!M||Ue(v.immediate||n.immediate,h));if(I){const q=Yt(d);if(q!==U.constructor)if(V)U=this._set(L);else throw Error(`Cannot animate between ${U.constructor.name} and ${q.name}, as the "to" prop suggests`)}const Y=U.constructor;let Q=te(d),G=!1;if(!Q){const q=F||!kt(this)&&A;(I||q)&&(G=le(We(S),L),Q=!G),(!le(y.immediate,V)&&!V||!le(P.decay,D)||!le(P.velocity,T))&&(Q=!0)}if(G&&me(this)&&(y.changed&&!F?Q=!0:Q||this._stop(m)),!C&&((Q||te(m))&&(y.values=U.getPayload(),y.toValues=te(d)?null:Y==Pe?[1]:J(L)),y.immediate!=V&&(y.immediate=V,!V&&!F&&this._set(m)),Q)){const{onRest:q}=y;$(as,ue=>sr(this,n,ue));const X=re(this,Le(this,m));Be(this._pendingCalls,X),this._pendingCalls.add(r),y.changed&&k.batchedUpdates(()=>{y.changed=!F,q==null||q(X,this),F?ye(v.onRest,X):y.onStart==null||y.onStart(X,this)})}F&&this._set(S),C?r(Br(n.to,n,this._state,this)):Q?this._start():me(this)&&!I?this._pendingCalls.add(r):r(kr(S))}_focus(t){const n=this.animation;t!==n.to&&(Wn(this)&&this._detach(),n.to=t,Wn(this)&&this._attach())}_attach(){let t=0;const{to:n}=this.animation;te(n)&&(Ce(n,this),Gt(n)&&(t=n.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;te(t)&&qe(t,this)}_set(t,n=!0){const r=Z(t);if(!E.und(r)){const s=se(this);if(!s||!le(r,s.getValue())){const f=Yt(r);!s||s.constructor!=f?ln(this,f.create(r)):s.setValue(r),s&&k.batchedUpdates(()=>{this._onChange(r,n)})}}return se(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,ke(this,"onStart",re(this,Le(this,t.to)),this))}_onChange(t,n){n||(this._onStart(),ye(this.animation.onChange,t,this)),ye(this.defaultProps.onChange,t,this),super._onChange(t,n)}_start(){const t=this.animation;se(this).reset(Z(t.to)),t.immediate||(t.fromValues=t.values.map(n=>n.lastPosition)),me(this)||(rr(this,!0),Me(this)||this._resume())}_resume(){fe.skipAnimation?this.finish():vt.start(this)}_stop(t,n){if(me(this)){rr(this,!1);const r=this.animation;$(r.values,f=>{f.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Qe(this,{type:"idle",parent:this});const s=n?Ie(this.get()):re(this.get(),Le(this,t!=null?t:r.to));Be(this._pendingCalls,s),r.changed&&(r.changed=!1,ke(this,"onRest",s,this))}}}function Le(e,t){const n=We(t),r=We(e.get());return le(r,n)}function $r(e,t=e.loop,n=e.to){let r=ye(t);if(r){const s=r!==!0&&Mr(r),f=(s||e).reverse,h=!s||s.reset;return Ge(K({},e,{loop:t,default:!1,pause:void 0,to:!f||Wt(n)?n:void 0,from:h?e.from:void 0,reset:h},s))}}function Ge(e){const{to:t,from:n}=e=Mr(e),r=new Set;return E.obj(t)&&or(t,r),E.obj(n)&&or(n,r),e.keys=r.size?Array.from(r):null,e}function ss(e){const t=Ge(e);return E.und(t.default)&&(t.default=hn(t)),t}function or(e,t){ae(e,(n,r)=>n!=null&&t.add(r))}const as=["onStart","onRest","onChange","onPause","onResume"];function sr(e,t,n){e.animation[n]=t[n]!==Fr(t,n)?Dr(t[n],e.key):void 0}function ke(e,t,...n){var r,s,f,h;(r=(s=e.animation)[t])==null||r.call(s,...n),(f=(h=e.defaultProps)[t])==null||f.call(h,...n)}const fs=["onStart","onChange","onRest"];let us=1;class cs{constructor(t,n){this.id=us++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(K({default:!0},t))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((n,r)=>t[r]=n.get()),t}set(t){for(const n in t){const r=t[n];E.und(r)||this.springs[n].set(r)}}update(t){return t&&this.queue.push(Ge(t)),this}start(t){let{queue:n}=this;return t?n=J(t).map(Ge):this.queue=[],this._flush?this._flush(this,n):(qr(this,n),Zt(this,n))}stop(t,n){if(t!==!!t&&(n=t),n){const r=this.springs;$(J(n),s=>r[s].stop(!!t))}else He(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(E.und(t))this.start({pause:!0});else{const n=this.springs;$(J(t),r=>n[r].pause())}return this}resume(t){if(E.und(t))this.start({pause:!1});else{const n=this.springs;$(J(t),r=>n[r].resume())}return this}each(t){ae(this.springs,t)}_onFrame(){const{onStart:t,onChange:n,onRest:r}=this._events,s=this._active.size>0,f=this._changed.size>0;(s&&!this._started||f&&!this._started)&&(this._started=!0,Ve(t,([y,m])=>{m.value=this.get(),y(m,this,this._item)}));const h=!s&&this._started,v=f||h&&r.size?this.get():null;f&&n.size&&Ve(n,([y,m])=>{m.value=v,y(m,this,this._item)}),h&&(this._started=!1,Ve(r,([y,m])=>{m.value=v,y(m,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;k.onFrame(this._onFrame)}}function Zt(e,t){return Promise.all(t.map(n=>Ur(e,n))).then(n=>mn(e,n))}function Ur(e,t,n){return De(this,null,function*(){const{keys:r,to:s,from:f,loop:h,onRest:v,onResolve:y}=t,m=E.obj(t.default)&&t.default;h&&(t.loop=!1),s===!1&&(t.to=null),f===!1&&(t.from=null);const _=E.arr(s)||E.fun(s)?s:void 0;_?(t.to=void 0,t.onRest=void 0,m&&(m.onRest=void 0)):$(fs,C=>{const P=t[C];if(E.fun(P)){const D=e._events[C];t[C]=({finished:T,cancelled:U})=>{const F=D.get(P);F?(T||(F.finished=!1),U&&(F.cancelled=!0)):D.set(P,{value:null,finished:T||!1,cancelled:U||!1})},m&&(m[C]=t[C])}});const d=e._state;t.pause===!d.paused?(d.paused=t.pause,Be(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const g=(r||Object.keys(e.springs)).map(C=>e.springs[C].start(t)),A=t.cancel===!0||Fr(t,"cancel")===!0;(_||A&&d.asyncId)&&g.push(Lr(++e._lastAsyncId,{props:t,state:d,actions:{pause:zt,resume:zt,start(C,P){A?(He(d,e._lastAsyncId),P(Ie(e))):(C.onRest=v,P(Br(_,C,d,e)))}}})),d.paused&&(yield new Promise(C=>{d.resumeQueue.add(C)}));const I=mn(e,yield Promise.all(g));if(h&&I.finished&&!(n&&I.noop)){const C=$r(t,h,s);if(C)return qr(e,[C]),Ur(e,C,!0)}return y&&k.batchedUpdates(()=>y(I,e,e.item)),I})}function ar(e,t){const n=K({},e.springs);return t&&$(J(t),r=>{E.und(r.keys)&&(r=Ge(r)),E.obj(r.to)||(r=K({},r,{to:void 0})),Qr(n,r,s=>zr(s))}),jr(e,n),n}function jr(e,t){ae(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,Ce(n,e))})}function zr(e,t){const n=new os;return n.key=e,t&&Ce(n,t),n}function Qr(e,t,n){t.keys&&$(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function qr(e,t){$(t,n=>{Qr(e.springs,n,r=>zr(r,e))})}function ls(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,f;for(f=0;f<r.length;f++)s=r[f],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}const ds=["children"],xt=e=>{let{children:t}=e,n=ls(e,ds);const r=N.useContext(dt),s=n.pause||!!r.pause,f=n.immediate||!!r.immediate;n=Bo(()=>({pause:s,immediate:f}),[s,f]);const{Provider:h}=dt;return N.createElement(h,{value:n},t)},dt=hs(xt,{});xt.Provider=dt.Provider;xt.Consumer=dt.Consumer;function hs(e,t){return Object.assign(e,N.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}const ms=()=>{const e=[],t=function(s){Lo();const f=[];return $(e,(h,v)=>{if(E.und(s))f.push(h.start());else{const y=n(s,h,v);y&&f.push(h.start(y))}}),f};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return $(e,r=>r.pause(...arguments)),this},t.resume=function(){return $(e,r=>r.resume(...arguments)),this},t.set=function(r){$(e,s=>s.set(r))},t.start=function(r){const s=[];return $(e,(f,h)=>{if(E.und(r))s.push(f.start());else{const v=this._getProps(r,f,h);v&&s.push(f.start(v))}}),s},t.stop=function(){return $(e,r=>r.stop(...arguments)),this},t.update=function(r){return $(e,(s,f)=>s.update(this._getProps(r,s,f))),this};const n=function(s,f,h){return E.fun(s)?s(h,f):s};return t._getProps=n,t};function ps(e,t,n){const r=E.fun(t)&&t;r&&!n&&(n=[]);const s=N.useMemo(()=>r||arguments.length==3?ms():void 0,[]),f=N.useRef(0),h=Or(),v=N.useMemo(()=>({ctrls:[],queue:[],flush(D,T){const U=ar(D,T);return f.current>0&&!v.queue.length&&!Object.keys(U).some(S=>!D.springs[S])?Zt(D,T):new Promise(S=>{jr(D,U),v.queue.push(()=>{S(Zt(D,T))}),h()})}}),[]),y=N.useRef([...v.ctrls]),m=[],_=Gn(e)||0;N.useMemo(()=>{$(y.current.slice(e,_),D=>{Zo(D,s),D.stop(!0)}),y.current.length=e,d(_,e)},[e]),N.useMemo(()=>{d(0,Math.min(_,e))},n);function d(D,T){for(let U=D;U<T;U++){const F=y.current[U]||(y.current[U]=new cs(null,v.flush)),S=r?r(U,F):t[U];S&&(m[U]=ss(S))}}const g=y.current.map((D,T)=>ar(D,m[T])),A=N.useContext(xt),I=Gn(A),C=A!==I&&Xo(A);cn(()=>{f.current++,v.ctrls=y.current;const{queue:D}=v;D.length&&(v.queue=[],$(D,T=>T())),$(y.current,(T,U)=>{s==null||s.add(T),C&&T.start({default:A});const F=m[U];F&&(Jo(T,F.ref),T.ref?T.queue.push(F):T.start(F))})}),Tr(()=>()=>{$(v.ctrls,D=>D.stop(!0))});const P=g.map(D=>K({},D));return s?[P,s]:P}function vs(e,t){const n=E.fun(e),[[r],s]=ps(1,n?e:[e],n?[]:t);return n||arguments.length==2?[r,s]:r}let fr;(function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"})(fr||(fr={}));class gs extends pn{constructor(t,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=t,this.calc=ze(...n);const r=this._get(),s=Yt(r);ln(this,s.create(r))}advance(t){const n=this._get(),r=this.get();le(n,r)||(se(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&ur(this._active)&&Bt(this)}_get(){const t=E.arr(this.source)?this.source.map(Z):J(Z(this.source));return this.calc(...t)}_start(){this.idle&&!ur(this._active)&&(this.idle=!1,$(_t(this),t=>{t.done=!1}),fe.skipAnimation?(k.batchedUpdates(()=>this.advance()),Bt(this)):vt.start(this))}_attach(){let t=1;$(J(this.source),n=>{te(n)&&Ce(n,this),Gt(n)&&(n.idle||this._active.add(n),t=Math.max(t,n.priority+1))}),this.priority=t,this._start()}_detach(){$(J(this.source),t=>{te(t)&&qe(t,this)}),this._active.clear(),Bt(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=J(this.source).reduce((n,r)=>Math.max(n,(Gt(r)?r.priority:0)+1),0))}}function ys(e){return e.idle!==!1}function ur(e){return!e.size||Array.from(e).every(ys)}function Bt(e){e.idle||(e.idle=!0,$(_t(e),t=>{t.done=!0}),Qe(e,{type:"idle",parent:e}))}fe.assign({createStringInterpolator:Pr,to:(e,t)=>new gs(e,t)});function vn(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,f;for(f=0;f<r.length;f++)s=r[f],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}const bs=["style","children","scrollTop","scrollLeft","viewBox"],Yr=/^--/;function _s(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Yr.test(e)&&!(je.hasOwnProperty(e)&&je[e])?t+"px":(""+t).trim()}const cr={};function ws(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",r=t,{style:s,children:f,scrollTop:h,scrollLeft:v,viewBox:y}=r,m=vn(r,bs),_=Object.values(m),d=Object.keys(m).map(g=>n||e.hasAttribute(g)?g:cr[g]||(cr[g]=g.replace(/([A-Z])/g,A=>"-"+A.toLowerCase())));f!==void 0&&(e.textContent=f);for(let g in s)if(s.hasOwnProperty(g)){const A=_s(g,s[g]);Yr.test(g)?e.style.setProperty(g,A):e.style[g]=A}d.forEach((g,A)=>{e.setAttribute(g,_[A])}),h!==void 0&&(e.scrollTop=h),v!==void 0&&(e.scrollLeft=v),y!==void 0&&e.setAttribute("viewBox",y)}let je={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const xs=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Ss=["Webkit","Ms","Moz","O"];je=Object.keys(je).reduce((e,t)=>(Ss.forEach(n=>e[xs(n,t)]=e[t]),e),je);const Es=["x","y","z"],Rs=/^(matrix|translate|scale|rotate|skew)/,Is=/^(translate)/,As=/^(rotate|skew)/,Vt=(e,t)=>E.num(e)&&e!==0?e+t:e,st=(e,t)=>E.arr(e)?e.every(n=>st(n,t)):E.num(e)?e===t:parseFloat(e)===t;class Ps extends wt{constructor(t){let{x:n,y:r,z:s}=t,f=vn(t,Es);const h=[],v=[];(n||r||s)&&(h.push([n||0,r||0,s||0]),v.push(y=>[`translate3d(${y.map(m=>Vt(m,"px")).join(",")})`,st(y,0)])),ae(f,(y,m)=>{if(m==="transform")h.push([y||""]),v.push(_=>[_,_===""]);else if(Rs.test(m)){if(delete f[m],E.und(y))return;const _=Is.test(m)?"px":As.test(m)?"deg":"";h.push(J(y)),v.push(m==="rotate3d"?([d,g,A,I])=>[`rotate3d(${d},${g},${A},${Vt(I,_)})`,st(I,0)]:d=>[`${m}(${d.map(g=>Vt(g,_)).join(",")})`,st(d,m.startsWith("scale")?1:0)])}}),h.length&&(f.transform=new Cs(h,v)),super(f)}}class Cs extends Rr{constructor(t,n){super(),this._value=null,this.inputs=t,this.transforms=n}get(){return this._value||(this._value=this._get())}_get(){let t="",n=!0;return $(this.inputs,(r,s)=>{const f=Z(r[0]),[h,v]=this.transforms[s](E.arr(f)?f:r.map(Z));t+=" "+h,n=n&&v}),n?"none":t}observerAdded(t){t==1&&$(this.inputs,n=>$(n,r=>te(r)&&Ce(r,this)))}observerRemoved(t){t==0&&$(this.inputs,n=>$(n,r=>te(r)&&qe(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Qe(this,t)}}const Os=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ts=["scrollTop","scrollLeft"];fe.assign({batchedUpdates:mr.unstable_batchedUpdates,createStringInterpolator:Pr,colors:ho});const Ns=Yo(Os,{applyAnimatedValues:ws,createAnimatedStyle:e=>new Ps(e),getComponentProps:e=>vn(e,Ts)}),Ds=Ns.animated;function Fs(e){return(typeof e=="function"?e():e)||document.body}function Ms(e,t){if(Jt&&e){const n=Fs(e);return mr.createPortal(t,n)}return t}function Ls(e){const t=N.useRef(e);return e&&(t.current=!0),!!t.current}const ks=e=>Bs(e.active,e.forceRender,e.destroyOnClose)?e.children:null;function Bs(e,t,n){const r=Ls(e);return t||e?!0:r?!n:!1}const Vs={click:"onClick",touchstart:"onTouchStart"};function $s(e,t){const n=Object.assign({},t.props);for(const r of e){const s=Vs[r];n[s]=function(f){var h,v;f.stopPropagation(),(v=(h=t.props)[s])===null||v===void 0||v.call(h,f)}}return ie.cloneElement(t,n)}const $t="adm-mask",Us={default:.55,thin:.35,thick:.75},js={black:"0, 0, 0",white:"255, 255, 255"},zs={visible:!0,destroyOnClose:!1,forceRender:!1,color:"black",opacity:"default",disableBodyScroll:!0,getContainer:null,stopPropagation:["click"]},aa=e=>{const t=Wi(zs,e),{locale:n}=Hi(),r=N.useRef(null);oo(r,t.visible&&t.disableBodyScroll);const s=N.useMemo(()=>{var _;const d=(_=Us[t.opacity])!==null&&_!==void 0?_:t.opacity,g=js[t.color];return g?`rgba(${g}, ${d})`:t.color},[t.color,t.opacity]),[f,h]=N.useState(t.visible),v=Xi(),{opacity:y}=vs({opacity:t.visible?1:0,config:{precision:.01,mass:1,tension:250,friction:30,clamp:!0},onStart:()=>{h(!0)},onRest:()=>{var _,d;v.current||(h(t.visible),t.visible?(_=t.afterShow)===null||_===void 0||_.call(t):(d=t.afterClose)===null||d===void 0||d.call(t))}}),m=$s(t.stopPropagation,hr(t,ie.createElement(Ds.div,{className:$t,ref:r,"aria-hidden":!0,style:Object.assign(Object.assign({},t.style),{background:s,opacity:y,display:f?void 0:"none"}),onClick:_=>{var d;_.target===_.currentTarget&&((d=t.onMaskClick)===null||d===void 0||d.call(t,_))}},t.onMaskClick&&ie.createElement("div",{className:`${$t}-aria-button`,role:"button","aria-label":n.Mask.name,onClick:t.onMaskClick}),ie.createElement("div",{className:`${$t}-content`},t.children))));return ie.createElement(ks,{active:f,forceRender:t.forceRender,destroyOnClose:t.destroyOnClose},Ms(t.getContainer,m))};function fa(e){return N.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),N.createElement("g",{id:"CloseOutline-CloseOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},N.createElement("g",{id:"CloseOutline-编组"},N.createElement("rect",{id:"CloseOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),N.createElement("path",{d:"M10.6085104,8.11754663 L24.1768397,21.8195031 L24.1768397,21.8195031 L37.7443031,8.1175556 C37.8194278,8.04168616 37.9217669,7.999 38.0285372,7.999 L41.1040268,7.999 C41.3249407,7.999 41.5040268,8.1780861 41.5040268,8.399 C41.5040268,8.50440471 41.4624226,8.60554929 41.3882578,8.68044752 L26.2773302,23.9408235 L26.2773302,23.9408235 L41.5021975,39.3175645 C41.65763,39.4745475 41.6563731,39.7278104 41.4993901,39.8832429 C41.4244929,39.9574004 41.3233534,39.999 41.2179546,39.999 L38.1434012,39.999 C38.0366291,39.999 37.9342885,39.9563124 37.8591634,39.8804408 L24.1768397,26.0621438 L24.1768397,26.0621438 L10.4936501,39.8804497 C10.4185257,39.9563159 10.3161889,39.999 10.2094212,39.999 L7.13584526,39.999 C6.91493136,39.999 6.73584526,39.8199139 6.73584526,39.599 C6.73584526,39.4936017 6.77744443,39.3924627 6.85160121,39.3175656 L22.0763492,23.9408235 L22.0763492,23.9408235 L6.96554081,8.68044639 C6.81010226,8.52346929 6.81134951,8.27020637 6.9683266,8.11476782 C7.04322474,8.04060377 7.14436883,7.999 7.24977299,7.999 L10.3242852,7.999 C10.4310511,7.999 10.5333863,8.04168267 10.6085104,8.11754663 Z",id:"CloseOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}const ht=Object.assign({},Gi),{version:Qs,render:qs,unmountComponentAtNode:Ys}=ht;let St;try{Number((Qs||"").split(".")[0])>=18&&ht.createRoot&&(St=ht.createRoot)}catch(e){}function lr(e){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:t}=ht;t&&typeof t=="object"&&(t.usingClientEntryPoint=e)}const mt="__antd_mobile_root__";function Ws(e,t){qs(e,t)}function Hs(e,t){lr(!0);const n=t[mt]||St(t);lr(!1),n.render(e),t[mt]=n}function Gs(e,t){if(St){Hs(e,t);return}Ws(e,t)}function Ks(e){return Ys(e)}function Xs(e){return pr(this,void 0,void 0,function*(){return Promise.resolve().then(()=>{var t;(t=e[mt])===null||t===void 0||t.unmount(),delete e[mt]})})}function Zs(e){return St?Xs(e):Ks(e)}function Js(e){const t=document.createElement("div");document.body.appendChild(t);function n(){Zs(t)&&t.parentNode&&t.parentNode.removeChild(t)}return Gs(e,t),n}function ua(e){const t=ie.forwardRef((s,f)=>{const[h,v]=N.useState(!1),y=N.useRef(!1),[m,_]=N.useState(e),d=N.useRef(0);N.useEffect(()=>{y.current?A():v(!0)},[]);function g(){var I,C;y.current=!0,v(!1),(C=(I=m.props).onClose)===null||C===void 0||C.call(I)}function A(){var I,C;r(),(C=(I=m.props).afterClose)===null||C===void 0||C.call(I)}return N.useImperativeHandle(f,()=>({close:g,replace:I=>{var C,P;d.current++,(P=(C=m.props).afterClose)===null||P===void 0||P.call(C),_(I)}})),ie.cloneElement(m,Object.assign(Object.assign({},m.props),{key:d.current,visible:h,onClose:g,afterClose:A}))}),n=ie.createRef(),r=Js(ie.createElement(t,{ref:n}));return{close:()=>pr(this,void 0,void 0,function*(){var s;n.current?(s=n.current)===null||s===void 0||s.close():r()}),replace:s=>{var f;(f=n.current)===null||f===void 0||f.replace(s)}}}const dr="adm-auto-center",ca=e=>hr(e,ie.createElement("div",{className:dr},ie.createElement("div",{className:`${dr}-content`},e.children)));function it(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,f){function h(m,_){if(!s[m]){if(!r[m]){var d=typeof it=="function"&&it;if(!_&&d)return d(m,!0);if(v)return v(m,!0);var g=new Error("Cannot find module '"+m+"'");throw g.code="MODULE_NOT_FOUND",g}var A=s[m]={exports:{}};r[m][0].call(A.exports,function(I){var C=r[m][1][I];return h(C||I)},A,A.exports,n,r,s,f)}return s[m].exports}for(var v=typeof it=="function"&&it,y=0;y<f.length;y++)h(f[y]);return h}({1:[function(n,r,s){(function(f){var h=f.MutationObserver||f.WebKitMutationObserver,v;if(h){var y=0,m=new h(I),_=f.document.createTextNode("");m.observe(_,{characterData:!0}),v=function(){_.data=y=++y%2}}else if(!f.setImmediate&&typeof f.MessageChannel!="undefined"){var d=new f.MessageChannel;d.port1.onmessage=I,v=function(){d.port2.postMessage(0)}}else"document"in f&&"onreadystatechange"in f.document.createElement("script")?v=function(){var P=f.document.createElement("script");P.onreadystatechange=function(){I(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},f.document.documentElement.appendChild(P)}:v=function(){setTimeout(I,0)};var g,A=[];function I(){g=!0;for(var P,D,T=A.length;T;){for(D=A,A=[],P=-1;++P<T;)D[P]();T=A.length}g=!1}r.exports=C;function C(P){A.push(P)===1&&!g&&v()}}).call(this,typeof et!="undefined"?et:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,s){var f=n(1);function h(){}var v={},y=["REJECTED"],m=["FULFILLED"],_=["PENDING"];r.exports=d;function d(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,S!==h&&C(this,S)}d.prototype.catch=function(S){return this.then(null,S)},d.prototype.then=function(S,L){if(typeof S!="function"&&this.state===m||typeof L!="function"&&this.state===y)return this;var M=new this.constructor(h);if(this.state!==_){var V=this.state===m?S:L;A(M,V,this.outcome)}else this.queue.push(new g(M,S,L));return M};function g(S,L,M){this.promise=S,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(S){v.resolve(this.promise,S)},g.prototype.otherCallFulfilled=function(S){A(this.promise,this.onFulfilled,S)},g.prototype.callRejected=function(S){v.reject(this.promise,S)},g.prototype.otherCallRejected=function(S){A(this.promise,this.onRejected,S)};function A(S,L,M){f(function(){var V;try{V=L(M)}catch(Y){return v.reject(S,Y)}V===S?v.reject(S,new TypeError("Cannot resolve promise with itself")):v.resolve(S,V)})}v.resolve=function(S,L){var M=P(I,L);if(M.status==="error")return v.reject(S,M.value);var V=M.value;if(V)C(S,V);else{S.state=m,S.outcome=L;for(var Y=-1,Q=S.queue.length;++Y<Q;)S.queue[Y].callFulfilled(L)}return S},v.reject=function(S,L){S.state=y,S.outcome=L;for(var M=-1,V=S.queue.length;++M<V;)S.queue[M].callRejected(L);return S};function I(S){var L=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof L=="function")return function(){L.apply(S,arguments)}}function C(S,L){var M=!1;function V(q){M||(M=!0,v.reject(S,q))}function Y(q){M||(M=!0,v.resolve(S,q))}function Q(){L(Y,V)}var G=P(Q);G.status==="error"&&V(G.value)}function P(S,L){var M={};try{M.value=S(L),M.status="success"}catch(V){M.status="error",M.value=V}return M}d.resolve=D;function D(S){return S instanceof this?S:v.resolve(new this(h),S)}d.reject=T;function T(S){var L=new this(h);return v.reject(L,S)}d.all=U;function U(S){var L=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=S.length,V=!1;if(!M)return this.resolve([]);for(var Y=new Array(M),Q=0,G=-1,q=new this(h);++G<M;)X(S[G],G);return q;function X(ue,we){L.resolve(ue).then(Et,function(xe){V||(V=!0,v.reject(q,xe))});function Et(xe){Y[we]=xe,++Q===M&&!V&&(V=!0,v.resolve(q,Y))}}}d.race=F;function F(S){var L=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=S.length,V=!1;if(!M)return this.resolve([]);for(var Y=-1,Q=new this(h);++Y<M;)G(S[Y]);return Q;function G(q){L.resolve(q).then(function(X){V||(V=!0,v.resolve(Q,X))},function(X){V||(V=!0,v.reject(Q,X))})}}},{1:1}],3:[function(n,r,s){(function(f){typeof f.Promise!="function"&&(f.Promise=n(2))}).call(this,typeof et!="undefined"?et:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(n,r,s){var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};function h(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function v(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(i){return}}var y=v();function m(){try{if(!y||!y.open)return!1;var i=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),a=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!i||a)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(o){return!1}}function _(i,a){i=i||[],a=a||{};try{return new Blob(i,a)}catch(u){if(u.name!=="TypeError")throw u;for(var o=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,c=new o,l=0;l<i.length;l+=1)c.append(i[l]);return c.getBlob(a.type)}}typeof Promise=="undefined"&&n(3);var d=Promise;function g(i,a){a&&i.then(function(o){a(null,o)},function(o){a(o)})}function A(i,a,o){typeof a=="function"&&i.then(a),typeof o=="function"&&i.catch(o)}function I(i){return typeof i!="string"&&(i=String(i)),i}function C(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var P="local-forage-detect-blob-support",D=void 0,T={},U=Object.prototype.toString,F="readonly",S="readwrite";function L(i){for(var a=i.length,o=new ArrayBuffer(a),c=new Uint8Array(o),l=0;l<a;l++)c[l]=i.charCodeAt(l);return o}function M(i){return new d(function(a){var o=i.transaction(P,S),c=_([""]);o.objectStore(P).put(c,"key"),o.onabort=function(l){l.preventDefault(),l.stopPropagation(),a(!1)},o.oncomplete=function(){var l=navigator.userAgent.match(/Chrome\/(\d+)/),u=navigator.userAgent.match(/Edge\//);a(u||!l||parseInt(l[1],10)>=43)}}).catch(function(){return!1})}function V(i){return typeof D=="boolean"?d.resolve(D):M(i).then(function(a){return D=a,D})}function Y(i){var a=T[i.name],o={};o.promise=new d(function(c,l){o.resolve=c,o.reject=l}),a.deferredOperations.push(o),a.dbReady?a.dbReady=a.dbReady.then(function(){return o.promise}):a.dbReady=o.promise}function Q(i){var a=T[i.name],o=a.deferredOperations.pop();if(o)return o.resolve(),o.promise}function G(i,a){var o=T[i.name],c=o.deferredOperations.pop();if(c)return c.reject(a),c.promise}function q(i,a){return new d(function(o,c){if(T[i.name]=T[i.name]||yn(),i.db)if(a)Y(i),i.db.close();else return o(i.db);var l=[i.name];a&&l.push(i.version);var u=y.open.apply(y,l);a&&(u.onupgradeneeded=function(p){var b=u.result;try{b.createObjectStore(i.storeName),p.oldVersion<=1&&b.createObjectStore(P)}catch(w){if(w.name!=="ConstraintError")throw w}}),u.onerror=function(p){p.preventDefault(),c(u.error)},u.onsuccess=function(){var p=u.result;p.onversionchange=function(b){b.target.close()},o(p),Q(i)}})}function X(i){return q(i,!1)}function ue(i){return q(i,!0)}function we(i,a){if(!i.db)return!0;var o=!i.db.objectStoreNames.contains(i.storeName),c=i.version<i.db.version,l=i.version>i.db.version;if(c&&(i.version,i.version=i.db.version),l||o){if(o){var u=i.db.version+1;u>i.version&&(i.version=u)}return!0}return!1}function Et(i){return new d(function(a,o){var c=new FileReader;c.onerror=o,c.onloadend=function(l){var u=btoa(l.target.result||"");a({__local_forage_encoded_blob:!0,data:u,type:i.type})},c.readAsBinaryString(i)})}function xe(i){var a=L(atob(i.data));return _([a],{type:i.type})}function gn(i){return i&&i.__local_forage_encoded_blob}function Hr(i){var a=this,o=a._initReady().then(function(){var c=T[a._dbInfo.name];if(c&&c.dbReady)return c.dbReady});return A(o,i,i),o}function Gr(i){Y(i);for(var a=T[i.name],o=a.forages,c=0;c<o.length;c++){var l=o[c];l._dbInfo.db&&(l._dbInfo.db.close(),l._dbInfo.db=null)}return i.db=null,X(i).then(function(u){return i.db=u,we(i)?ue(i):u}).then(function(u){i.db=a.db=u;for(var p=0;p<o.length;p++)o[p]._dbInfo.db=u}).catch(function(u){throw G(i,u),u})}function ce(i,a,o,c){c===void 0&&(c=1);try{var l=i.db.transaction(i.storeName,a);o(null,l)}catch(u){if(c>0&&(!i.db||u.name==="InvalidStateError"||u.name==="NotFoundError"))return d.resolve().then(function(){if(!i.db||u.name==="NotFoundError"&&!i.db.objectStoreNames.contains(i.storeName)&&i.version<=i.db.version)return i.db&&(i.version=i.db.version+1),ue(i)}).then(function(){return Gr(i).then(function(){ce(i,a,o,c-1)})}).catch(o);o(u)}}function yn(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Kr(i){var a=this,o={db:null};if(i)for(var c in i)o[c]=i[c];var l=T[o.name];l||(l=yn(),T[o.name]=l),l.forages.push(a),a._initReady||(a._initReady=a.ready,a.ready=Hr);var u=[];function p(){return d.resolve()}for(var b=0;b<l.forages.length;b++){var w=l.forages[b];w!==a&&u.push(w._initReady().catch(p))}var x=l.forages.slice(0);return d.all(u).then(function(){return o.db=l.db,X(o)}).then(function(R){return o.db=R,we(o,a._defaultConfig.version)?ue(o):R}).then(function(R){o.db=l.db=R,a._dbInfo=o;for(var O=0;O<x.length;O++){var B=x[O];B!==a&&(B._dbInfo.db=o.db,B._dbInfo.version=o.version)}})}function Xr(i,a){var o=this;i=I(i);var c=new d(function(l,u){o.ready().then(function(){ce(o._dbInfo,F,function(p,b){if(p)return u(p);try{var w=b.objectStore(o._dbInfo.storeName),x=w.get(i);x.onsuccess=function(){var R=x.result;R===void 0&&(R=null),gn(R)&&(R=xe(R)),l(R)},x.onerror=function(){u(x.error)}}catch(R){u(R)}})}).catch(u)});return g(c,a),c}function Zr(i,a){var o=this,c=new d(function(l,u){o.ready().then(function(){ce(o._dbInfo,F,function(p,b){if(p)return u(p);try{var w=b.objectStore(o._dbInfo.storeName),x=w.openCursor(),R=1;x.onsuccess=function(){var O=x.result;if(O){var B=O.value;gn(B)&&(B=xe(B));var j=i(B,O.key,R++);j!==void 0?l(j):O.continue()}else l()},x.onerror=function(){u(x.error)}}catch(O){u(O)}})}).catch(u)});return g(c,a),c}function Jr(i,a,o){var c=this;i=I(i);var l=new d(function(u,p){var b;c.ready().then(function(){return b=c._dbInfo,U.call(a)==="[object Blob]"?V(b.db).then(function(w){return w?a:Et(a)}):a}).then(function(w){ce(c._dbInfo,S,function(x,R){if(x)return p(x);try{var O=R.objectStore(c._dbInfo.storeName);w===null&&(w=void 0);var B=O.put(w,i);R.oncomplete=function(){w===void 0&&(w=null),u(w)},R.onabort=R.onerror=function(){var j=B.error?B.error:B.transaction.error;p(j)}}catch(j){p(j)}})}).catch(p)});return g(l,o),l}function ei(i,a){var o=this;i=I(i);var c=new d(function(l,u){o.ready().then(function(){ce(o._dbInfo,S,function(p,b){if(p)return u(p);try{var w=b.objectStore(o._dbInfo.storeName),x=w.delete(i);b.oncomplete=function(){l()},b.onerror=function(){u(x.error)},b.onabort=function(){var R=x.error?x.error:x.transaction.error;u(R)}}catch(R){u(R)}})}).catch(u)});return g(c,a),c}function ti(i){var a=this,o=new d(function(c,l){a.ready().then(function(){ce(a._dbInfo,S,function(u,p){if(u)return l(u);try{var b=p.objectStore(a._dbInfo.storeName),w=b.clear();p.oncomplete=function(){c()},p.onabort=p.onerror=function(){var x=w.error?w.error:w.transaction.error;l(x)}}catch(x){l(x)}})}).catch(l)});return g(o,i),o}function ni(i){var a=this,o=new d(function(c,l){a.ready().then(function(){ce(a._dbInfo,F,function(u,p){if(u)return l(u);try{var b=p.objectStore(a._dbInfo.storeName),w=b.count();w.onsuccess=function(){c(w.result)},w.onerror=function(){l(w.error)}}catch(x){l(x)}})}).catch(l)});return g(o,i),o}function ri(i,a){var o=this,c=new d(function(l,u){if(i<0){l(null);return}o.ready().then(function(){ce(o._dbInfo,F,function(p,b){if(p)return u(p);try{var w=b.objectStore(o._dbInfo.storeName),x=!1,R=w.openKeyCursor();R.onsuccess=function(){var O=R.result;if(!O){l(null);return}i===0||x?l(O.key):(x=!0,O.advance(i))},R.onerror=function(){u(R.error)}}catch(O){u(O)}})}).catch(u)});return g(c,a),c}function ii(i){var a=this,o=new d(function(c,l){a.ready().then(function(){ce(a._dbInfo,F,function(u,p){if(u)return l(u);try{var b=p.objectStore(a._dbInfo.storeName),w=b.openKeyCursor(),x=[];w.onsuccess=function(){var R=w.result;if(!R){c(x);return}x.push(R.key),R.continue()},w.onerror=function(){l(w.error)}}catch(R){l(R)}})}).catch(l)});return g(o,i),o}function oi(i,a){a=C.apply(this,arguments);var o=this.config();i=typeof i!="function"&&i||{},i.name||(i.name=i.name||o.name,i.storeName=i.storeName||o.storeName);var c=this,l;if(!i.name)l=d.reject("Invalid arguments");else{var u=i.name===o.name&&c._dbInfo.db,p=u?d.resolve(c._dbInfo.db):X(i).then(function(b){var w=T[i.name],x=w.forages;w.db=b;for(var R=0;R<x.length;R++)x[R]._dbInfo.db=b;return b});i.storeName?l=p.then(function(b){if(b.objectStoreNames.contains(i.storeName)){var w=b.version+1;Y(i);var x=T[i.name],R=x.forages;b.close();for(var O=0;O<R.length;O++){var B=R[O];B._dbInfo.db=null,B._dbInfo.version=w}var j=new d(function(z,H){var W=y.open(i.name,w);W.onerror=function(ee){var Ne=W.result;Ne.close(),H(ee)},W.onupgradeneeded=function(){var ee=W.result;ee.deleteObjectStore(i.storeName)},W.onsuccess=function(){var ee=W.result;ee.close(),z(ee)}});return j.then(function(z){x.db=z;for(var H=0;H<R.length;H++){var W=R[H];W._dbInfo.db=z,Q(W._dbInfo)}}).catch(function(z){throw(G(i,z)||d.resolve()).catch(function(){}),z})}}):l=p.then(function(b){Y(i);var w=T[i.name],x=w.forages;b.close();for(var R=0;R<x.length;R++){var O=x[R];O._dbInfo.db=null}var B=new d(function(j,z){var H=y.deleteDatabase(i.name);H.onerror=function(){var W=H.result;W&&W.close(),z(H.error)},H.onblocked=function(){},H.onsuccess=function(){var W=H.result;W&&W.close(),j(W)}});return B.then(function(j){w.db=j;for(var z=0;z<x.length;z++){var H=x[z];Q(H._dbInfo)}}).catch(function(j){throw(G(i,j)||d.resolve()).catch(function(){}),j})})}return g(l,a),l}var si={_driver:"asyncStorage",_initStorage:Kr,_support:m(),iterate:Zr,getItem:Xr,setItem:Jr,removeItem:ei,clear:ti,length:ni,key:ri,keys:ii,dropInstance:oi};function ai(){return typeof openDatabase=="function"}var de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fi="~~local_forage_type~",bn=/^~~local_forage_type~([^~]+)~/,Ze="__lfsc__:",Rt=Ze.length,It="arbf",At="blob",_n="si08",wn="ui08",xn="uic8",Sn="si16",En="si32",Rn="ur16",In="ui32",An="fl32",Pn="fl64",Cn=Rt+It.length,On=Object.prototype.toString;function Tn(i){var a=i.length*.75,o=i.length,c,l=0,u,p,b,w;i[i.length-1]==="="&&(a--,i[i.length-2]==="="&&a--);var x=new ArrayBuffer(a),R=new Uint8Array(x);for(c=0;c<o;c+=4)u=de.indexOf(i[c]),p=de.indexOf(i[c+1]),b=de.indexOf(i[c+2]),w=de.indexOf(i[c+3]),R[l++]=u<<2|p>>4,R[l++]=(p&15)<<4|b>>2,R[l++]=(b&3)<<6|w&63;return x}function Pt(i){var a=new Uint8Array(i),o="",c;for(c=0;c<a.length;c+=3)o+=de[a[c]>>2],o+=de[(a[c]&3)<<4|a[c+1]>>4],o+=de[(a[c+1]&15)<<2|a[c+2]>>6],o+=de[a[c+2]&63];return a.length%3===2?o=o.substring(0,o.length-1)+"=":a.length%3===1&&(o=o.substring(0,o.length-2)+"=="),o}function ui(i,a){var o="";if(i&&(o=On.call(i)),i&&(o==="[object ArrayBuffer]"||i.buffer&&On.call(i.buffer)==="[object ArrayBuffer]")){var c,l=Ze;i instanceof ArrayBuffer?(c=i,l+=It):(c=i.buffer,o==="[object Int8Array]"?l+=_n:o==="[object Uint8Array]"?l+=wn:o==="[object Uint8ClampedArray]"?l+=xn:o==="[object Int16Array]"?l+=Sn:o==="[object Uint16Array]"?l+=Rn:o==="[object Int32Array]"?l+=En:o==="[object Uint32Array]"?l+=In:o==="[object Float32Array]"?l+=An:o==="[object Float64Array]"?l+=Pn:a(new Error("Failed to get type for BinaryArray"))),a(l+Pt(c))}else if(o==="[object Blob]"){var u=new FileReader;u.onload=function(){var p=fi+i.type+"~"+Pt(this.result);a(Ze+At+p)},u.readAsArrayBuffer(i)}else try{a(JSON.stringify(i))}catch(p){a(null,p)}}function ci(i){if(i.substring(0,Rt)!==Ze)return JSON.parse(i);var a=i.substring(Cn),o=i.substring(Rt,Cn),c;if(o===At&&bn.test(a)){var l=a.match(bn);c=l[1],a=a.substring(l[0].length)}var u=Tn(a);switch(o){case It:return u;case At:return _([u],{type:c});case _n:return new Int8Array(u);case wn:return new Uint8Array(u);case xn:return new Uint8ClampedArray(u);case Sn:return new Int16Array(u);case Rn:return new Uint16Array(u);case En:return new Int32Array(u);case In:return new Uint32Array(u);case An:return new Float32Array(u);case Pn:return new Float64Array(u);default:throw new Error("Unkown type: "+o)}}var Ct={serialize:ui,deserialize:ci,stringToBuffer:Tn,bufferToString:Pt};function Nn(i,a,o,c){i.executeSql("CREATE TABLE IF NOT EXISTS "+a.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],o,c)}function li(i){var a=this,o={db:null};if(i)for(var c in i)o[c]=typeof i[c]!="string"?i[c].toString():i[c];var l=new d(function(u,p){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(b){return p(b)}o.db.transaction(function(b){Nn(b,o,function(){a._dbInfo=o,u()},function(w,x){p(x)})},p)});return o.serializer=Ct,l}function he(i,a,o,c,l,u){i.executeSql(o,c,l,function(p,b){b.code===b.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[a.storeName],function(w,x){x.rows.length?u(w,b):Nn(w,a,function(){w.executeSql(o,c,l,u)},u)},u):u(p,b)},u)}function di(i,a){var o=this;i=I(i);var c=new d(function(l,u){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(b){he(b,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[i],function(w,x){var R=x.rows.length?x.rows.item(0).value:null;R&&(R=p.serializer.deserialize(R)),l(R)},function(w,x){u(x)})})}).catch(u)});return g(c,a),c}function hi(i,a){var o=this,c=new d(function(l,u){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(b){he(b,p,"SELECT * FROM "+p.storeName,[],function(w,x){for(var R=x.rows,O=R.length,B=0;B<O;B++){var j=R.item(B),z=j.value;if(z&&(z=p.serializer.deserialize(z)),z=i(z,j.key,B+1),z!==void 0){l(z);return}}l()},function(w,x){u(x)})})}).catch(u)});return g(c,a),c}function Dn(i,a,o,c){var l=this;i=I(i);var u=new d(function(p,b){l.ready().then(function(){a===void 0&&(a=null);var w=a,x=l._dbInfo;x.serializer.serialize(a,function(R,O){O?b(O):x.db.transaction(function(B){he(B,x,"INSERT OR REPLACE INTO "+x.storeName+" (key, value) VALUES (?, ?)",[i,R],function(){p(w)},function(j,z){b(z)})},function(B){if(B.code===B.QUOTA_ERR){if(c>0){p(Dn.apply(l,[i,w,o,c-1]));return}b(B)}})})}).catch(b)});return g(u,o),u}function mi(i,a,o){return Dn.apply(this,[i,a,o,1])}function pi(i,a){var o=this;i=I(i);var c=new d(function(l,u){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(b){he(b,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[i],function(){l()},function(w,x){u(x)})})}).catch(u)});return g(c,a),c}function vi(i){var a=this,o=new d(function(c,l){a.ready().then(function(){var u=a._dbInfo;u.db.transaction(function(p){he(p,u,"DELETE FROM "+u.storeName,[],function(){c()},function(b,w){l(w)})})}).catch(l)});return g(o,i),o}function gi(i){var a=this,o=new d(function(c,l){a.ready().then(function(){var u=a._dbInfo;u.db.transaction(function(p){he(p,u,"SELECT COUNT(key) as c FROM "+u.storeName,[],function(b,w){var x=w.rows.item(0).c;c(x)},function(b,w){l(w)})})}).catch(l)});return g(o,i),o}function yi(i,a){var o=this,c=new d(function(l,u){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(b){he(b,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[i+1],function(w,x){var R=x.rows.length?x.rows.item(0).key:null;l(R)},function(w,x){u(x)})})}).catch(u)});return g(c,a),c}function bi(i){var a=this,o=new d(function(c,l){a.ready().then(function(){var u=a._dbInfo;u.db.transaction(function(p){he(p,u,"SELECT key FROM "+u.storeName,[],function(b,w){for(var x=[],R=0;R<w.rows.length;R++)x.push(w.rows.item(R).key);c(x)},function(b,w){l(w)})})}).catch(l)});return g(o,i),o}function _i(i){return new d(function(a,o){i.transaction(function(c){c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(l,u){for(var p=[],b=0;b<u.rows.length;b++)p.push(u.rows.item(b).name);a({db:i,storeNames:p})},function(l,u){o(u)})},function(c){o(c)})})}function wi(i,a){a=C.apply(this,arguments);var o=this.config();i=typeof i!="function"&&i||{},i.name||(i.name=i.name||o.name,i.storeName=i.storeName||o.storeName);var c=this,l;return i.name?l=new d(function(u){var p;i.name===o.name?p=c._dbInfo.db:p=openDatabase(i.name,"","",0),i.storeName?u({db:p,storeNames:[i.storeName]}):u(_i(p))}).then(function(u){return new d(function(p,b){u.db.transaction(function(w){function x(j){return new d(function(z,H){w.executeSql("DROP TABLE IF EXISTS "+j,[],function(){z()},function(W,ee){H(ee)})})}for(var R=[],O=0,B=u.storeNames.length;O<B;O++)R.push(x(u.storeNames[O]));d.all(R).then(function(){p()}).catch(function(j){b(j)})},function(w){b(w)})})}):l=d.reject("Invalid arguments"),g(l,a),l}var xi={_driver:"webSQLStorage",_initStorage:li,_support:ai(),iterate:hi,getItem:di,setItem:mi,removeItem:pi,clear:vi,length:gi,key:yi,keys:bi,dropInstance:wi};function Si(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(i){return!1}}function Fn(i,a){var o=i.name+"/";return i.storeName!==a.storeName&&(o+=i.storeName+"/"),o}function Ei(){var i="_localforage_support_test";try{return localStorage.setItem(i,!0),localStorage.removeItem(i),!1}catch(a){return!0}}function Ri(){return!Ei()||localStorage.length>0}function Ii(i){var a=this,o={};if(i)for(var c in i)o[c]=i[c];return o.keyPrefix=Fn(i,a._defaultConfig),Ri()?(a._dbInfo=o,o.serializer=Ct,d.resolve()):d.reject()}function Ai(i){var a=this,o=a.ready().then(function(){for(var c=a._dbInfo.keyPrefix,l=localStorage.length-1;l>=0;l--){var u=localStorage.key(l);u.indexOf(c)===0&&localStorage.removeItem(u)}});return g(o,i),o}function Pi(i,a){var o=this;i=I(i);var c=o.ready().then(function(){var l=o._dbInfo,u=localStorage.getItem(l.keyPrefix+i);return u&&(u=l.serializer.deserialize(u)),u});return g(c,a),c}function Ci(i,a){var o=this,c=o.ready().then(function(){for(var l=o._dbInfo,u=l.keyPrefix,p=u.length,b=localStorage.length,w=1,x=0;x<b;x++){var R=localStorage.key(x);if(R.indexOf(u)===0){var O=localStorage.getItem(R);if(O&&(O=l.serializer.deserialize(O)),O=i(O,R.substring(p),w++),O!==void 0)return O}}});return g(c,a),c}function Oi(i,a){var o=this,c=o.ready().then(function(){var l=o._dbInfo,u;try{u=localStorage.key(i)}catch(p){u=null}return u&&(u=u.substring(l.keyPrefix.length)),u});return g(c,a),c}function Ti(i){var a=this,o=a.ready().then(function(){for(var c=a._dbInfo,l=localStorage.length,u=[],p=0;p<l;p++){var b=localStorage.key(p);b.indexOf(c.keyPrefix)===0&&u.push(b.substring(c.keyPrefix.length))}return u});return g(o,i),o}function Ni(i){var a=this,o=a.keys().then(function(c){return c.length});return g(o,i),o}function Di(i,a){var o=this;i=I(i);var c=o.ready().then(function(){var l=o._dbInfo;localStorage.removeItem(l.keyPrefix+i)});return g(c,a),c}function Fi(i,a,o){var c=this;i=I(i);var l=c.ready().then(function(){a===void 0&&(a=null);var u=a;return new d(function(p,b){var w=c._dbInfo;w.serializer.serialize(a,function(x,R){if(R)b(R);else try{localStorage.setItem(w.keyPrefix+i,x),p(u)}catch(O){(O.name==="QuotaExceededError"||O.name==="NS_ERROR_DOM_QUOTA_REACHED")&&b(O),b(O)}})})});return g(l,o),l}function Mi(i,a){if(a=C.apply(this,arguments),i=typeof i!="function"&&i||{},!i.name){var o=this.config();i.name=i.name||o.name,i.storeName=i.storeName||o.storeName}var c=this,l;return i.name?l=new d(function(u){i.storeName?u(Fn(i,c._defaultConfig)):u(i.name+"/")}).then(function(u){for(var p=localStorage.length-1;p>=0;p--){var b=localStorage.key(p);b.indexOf(u)===0&&localStorage.removeItem(b)}}):l=d.reject("Invalid arguments"),g(l,a),l}var Li={_driver:"localStorageWrapper",_initStorage:Ii,_support:Si(),iterate:Ci,getItem:Pi,setItem:Fi,removeItem:Di,clear:Ai,length:Ni,key:Oi,keys:Ti,dropInstance:Mi},ki=function(a,o){return a===o||typeof a=="number"&&typeof o=="number"&&isNaN(a)&&isNaN(o)},Bi=function(a,o){for(var c=a.length,l=0;l<c;){if(ki(a[l],o))return!0;l++}return!1},Mn=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"},Te={},Ln={},Se={INDEXEDDB:si,WEBSQL:xi,LOCALSTORAGE:Li},Vi=[Se.INDEXEDDB._driver,Se.WEBSQL._driver,Se.LOCALSTORAGE._driver],Je=["dropInstance"],Ot=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Je),$i={description:"",driver:Vi.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ui(i,a){i[a]=function(){var o=arguments;return i.ready().then(function(){return i[a].apply(i,o)})}}function Tt(){for(var i=1;i<arguments.length;i++){var a=arguments[i];if(a)for(var o in a)a.hasOwnProperty(o)&&(Mn(a[o])?arguments[0][o]=a[o].slice():arguments[0][o]=a[o])}return arguments[0]}var ji=function(){function i(a){h(this,i);for(var o in Se)if(Se.hasOwnProperty(o)){var c=Se[o],l=c._driver;this[o]=l,Te[l]||this.defineDriver(c)}this._defaultConfig=Tt({},$i),this._config=Tt({},this._defaultConfig,a),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return i.prototype.config=function(o){if((typeof o=="undefined"?"undefined":f(o))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var c in o){if(c==="storeName"&&(o[c]=o[c].replace(/\W/g,"_")),c==="version"&&typeof o[c]!="number")return new Error("Database version must be a number.");this._config[c]=o[c]}return"driver"in o&&o.driver?this.setDriver(this._config.driver):!0}else return typeof o=="string"?this._config[o]:this._config},i.prototype.defineDriver=function(o,c,l){var u=new d(function(p,b){try{var w=o._driver,x=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!o._driver){b(x);return}for(var R=Ot.concat("_initStorage"),O=0,B=R.length;O<B;O++){var j=R[O],z=!Bi(Je,j);if((z||o[j])&&typeof o[j]!="function"){b(x);return}}var H=function(){for(var Ne=function(qi){return function(){var Yi=new Error("Method "+qi+" is not implemented by the current driver"),kn=d.reject(Yi);return g(kn,arguments[arguments.length-1]),kn}},Nt=0,Qi=Je.length;Nt<Qi;Nt++){var Dt=Je[Nt];o[Dt]||(o[Dt]=Ne(Dt))}};H();var W=function(Ne){Te[w],Te[w]=o,Ln[w]=Ne,p()};"_support"in o?o._support&&typeof o._support=="function"?o._support().then(W,b):W(!!o._support):W(!0)}catch(ee){b(ee)}});return A(u,c,l),u},i.prototype.driver=function(){return this._driver||null},i.prototype.getDriver=function(o,c,l){var u=Te[o]?d.resolve(Te[o]):d.reject(new Error("Driver not found."));return A(u,c,l),u},i.prototype.getSerializer=function(o){var c=d.resolve(Ct);return A(c,o),c},i.prototype.ready=function(o){var c=this,l=c._driverSet.then(function(){return c._ready===null&&(c._ready=c._initDriver()),c._ready});return A(l,o,o),l},i.prototype.setDriver=function(o,c,l){var u=this;Mn(o)||(o=[o]);var p=this._getSupportedDrivers(o);function b(){u._config.driver=u.driver()}function w(O){return u._extend(O),b(),u._ready=u._initStorage(u._config),u._ready}function x(O){return function(){var B=0;function j(){for(;B<O.length;){var z=O[B];return B++,u._dbInfo=null,u._ready=null,u.getDriver(z).then(w).catch(j)}b();var H=new Error("No available storage method found.");return u._driverSet=d.reject(H),u._driverSet}return j()}}var R=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=R.then(function(){var O=p[0];return u._dbInfo=null,u._ready=null,u.getDriver(O).then(function(B){u._driver=B._driver,b(),u._wrapLibraryMethodsWithReady(),u._initDriver=x(p)})}).catch(function(){b();var O=new Error("No available storage method found.");return u._driverSet=d.reject(O),u._driverSet}),A(this._driverSet,c,l),this._driverSet},i.prototype.supports=function(o){return!!Ln[o]},i.prototype._extend=function(o){Tt(this,o)},i.prototype._getSupportedDrivers=function(o){for(var c=[],l=0,u=o.length;l<u;l++){var p=o[l];this.supports(p)&&c.push(p)}return c},i.prototype._wrapLibraryMethodsWithReady=function(){for(var o=0,c=Ot.length;o<c;o++)Ui(this,Ot[o])},i.prototype.createInstance=function(o){return new i(o)},i}(),zi=new ji;r.exports=zi},{3:3}]},{},[4])(4)})})(Wr);var ea=Wr.exports;const ta=Ki(ea),la=ta.createInstance({name:"nsky-books"});export{ca as A,fa as C,aa as M,ks as S,Xi as a,la as b,vs as c,Ds as d,ua as e,Ms as r,oo as u,$s as w};

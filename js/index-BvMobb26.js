import{f as S,g as N,c as f}from"./tslib.es6-stJkEJF-.js";import{r as a,R as o}from"./index-7WbT3z16.js";import{e as O}from"./useEffectWithTarget-8LChVJPK.js";import{m as h,w as $}from"./with-default-props-kKbqWDQo.js";import{c as F,d as w,C as L,M as P,A as j,e as R}from"./books.store-BFuBvAOc.js";function M(e){return O(e[Symbol.asyncIterator])}function le(e,t){a.useEffect(function(){var n=e(),s=!1;function r(){return S(this,void 0,void 0,function(){var i;return N(this,function(u){switch(u.label){case 0:if(!M(n))return[3,4];u.label=1;case 1:return[4,n.next()];case 2:return i=u.sent(),i.done||s?[3,3]:[3,1];case 3:return[3,6];case 4:return[4,n];case 5:u.sent(),u.label=6;case 6:return[2]}})})}return r(),function(){s=!0}},t)}function T(e){return a.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),a.createElement("g",{id:"CheckOutline-CheckOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"CheckOutline-编组"},a.createElement("rect",{id:"CheckOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),a.createElement("path",{d:"M44.309608,12.6841286 L21.2180499,35.5661955 L21.2180499,35.5661955 C20.6343343,36.1446015 19.6879443,36.1446015 19.1042286,35.5661955 C19.0538201,35.5162456 19.0077648,35.4636155 18.9660627,35.4087682 C18.9113105,35.368106 18.8584669,35.3226694 18.808302,35.2729607 L3.6903839,20.2920499 C3.53346476,20.1365529 3.53231192,19.8832895 3.68780898,19.7263704 C3.7629255,19.6505669 3.86521855,19.6079227 3.97193622,19.6079227 L7.06238923,19.6079227 C7.16784214,19.6079227 7.26902895,19.6495648 7.34393561,19.7237896 L20.160443,32.4236157 L20.160443,32.4236157 L40.656066,12.115858 C40.7309719,12.0416387 40.8321549,12 40.9376034,12 L44.0280571,12 C44.248971,12 44.4280571,12.1790861 44.4280571,12.4 C44.4280571,12.5067183 44.3854124,12.609012 44.309608,12.6841286 Z",id:"CheckOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}var y={exports:{}},C={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m=a;function A(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var B=typeof Object.is=="function"?Object.is:A,D=m.useState,I=m.useEffect,_=m.useLayoutEffect,q=m.useDebugValue;function W(e,t){var n=t(),s=D({inst:{value:n,getSnapshot:t}}),r=s[0].inst,i=s[1];return _(function(){r.value=n,r.getSnapshot=t,p(r)&&i({inst:r})},[e,n,t]),I(function(){return p(r)&&i({inst:r}),e(function(){p(r)&&i({inst:r})})},[e]),q(n),n}function p(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!B(e,n)}catch(s){return!0}}function z(e,t){return t()}var G=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?z:W;C.useSyncExternalStore=m.useSyncExternalStore!==void 0?m.useSyncExternalStore:G;y.exports=C;var H=y.exports;let V=!1;const E=new Set;function k(){return V}function X(e){return E.add(e),()=>{E.delete(e)}}function Z(){return H.useSyncExternalStore(X,k,k)}const v="adm-spin-loading",J={default:"var(--adm-color-weak)",primary:"var(--adm-color-primary)",white:"var(--adm-color-white)"},K={color:"default"},Q=15*3.14159265358979*2,U=a.memo(e=>{var t;const n=h(K,e),s=Z(),{percent:r}=F({cancel:s,loop:{reverse:!0},from:{percent:80},to:{percent:30},config:{duration:1200}});return $(n,o.createElement(w.div,{className:v,style:{"--color":(t=J[n.color])!==null&&t!==void 0?t:n.color,"--percent":r}},o.createElement("svg",{className:`${v}-svg`,viewBox:"0 0 32 32"},o.createElement(w.circle,{className:`${v}-fill`,fill:"transparent",strokeWidth:"2",strokeDasharray:Q,strokeDashoffset:r,strokeLinecap:"square",r:15,cx:16,cy:16}))))}),c="adm-toast",Y={maskClickable:!0,stopPropagation:["click"]},ee=e=>{const t=h(Y,e),{maskClickable:n,content:s,icon:r,position:i}=t,u=a.useMemo(()=>{if(r==null)return null;switch(r){case"success":return o.createElement(T,{className:`${c}-icon-success`});case"fail":return o.createElement(L,{className:`${c}-icon-fail`});case"loading":return o.createElement(U,{color:"white",className:`${c}-loading`});default:return r}},[r]),b=a.useMemo(()=>{switch(i){case"top":return"20%";case"bottom":return"80%";default:return"50%"}},[i]);return o.createElement(P,{visible:t.visible,destroyOnClose:!0,opacity:0,disableBodyScroll:!n,getContainer:t.getContainer,afterClose:t.afterClose,style:Object.assign({pointerEvents:n?"none":"auto"},t.maskStyle),className:f(`${c}-mask`,t.maskClassName),stopPropagation:t.stopPropagation},o.createElement("div",{className:f(`${c}-wrap`)},o.createElement("div",{style:{top:b},className:f(`${c}-main`,r?`${c}-main-icon`:`${c}-main-text`)},u&&o.createElement("div",{className:`${c}-icon`},u),o.createElement(j,null,s))))};let l=null,g=null;const d={duration:2e3,position:"center",maskClickable:!0},te=e=>o.createElement(ee,Object.assign({},e));function ne(e){const t=h(d,typeof e=="string"?{content:e}:e),n=o.createElement(te,Object.assign({},t,{onClose:()=>{l=null}}));return l?l.replace(n):l=R(n),g&&window.clearTimeout(g),t.duration!==0&&(g=window.setTimeout(()=>{x()},t.duration)),l}function x(){l==null||l.close(),l=null}function re(e){e.duration!==void 0&&(d.duration=e.duration),e.position!==void 0&&(d.position=e.position),e.maskClickable!==void 0&&(d.maskClickable=e.maskClickable)}const ue={show:ne,clear:x,config:re};export{ue as T,le as u};
